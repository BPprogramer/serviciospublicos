{"version":3,"sources":["desabilitarBtnSubmit.js","redireccion.js","cajas/abrir.js","cajas/cajasPagos.js","cajas/index.js","estratos/crear.js","estratos/index.js","emitidas/index.js","dashboard/facturas.js","dashboard/inicio.js","usuarios/index.js","pagar/index.js","pagar/pagar.js","registrados/facturas.js","registrados/index.js","registrados/pagos.js","contabilidad/bancos/index.js","contabilidad/cuentas_bancarias/index.js","contabilidad/cuentas_bancarias/movimientos.js","contabilidad/consignaciones/index.js","contabilidad/cuentas/index.js","contabilidad/egresos/formulario.js","contabilidad/egresos/index.js","contabilidad/terceros/index.js","contabilidad/egresos_simples/index.js"],"names":["document","querySelector","btnSubmit","addEventListener","e","setTimeout","target","disabled","classList","add","alertaExitoFormulario","formulario","style","display","remove","urlActual","window","location","href","includes","redireccionar","efectivo_inicial","value","efectivo_inicial_sin_formato","parseFloat","replace","isNaN","efectivo_inicial_formateada","toLocaleString","formaterValor","tablaCajasPagos","URL","id","URLSearchParams","search","get","Number","isInteger","parseInt","$","dataTable","fnDestroy","DataTable","ajax","deferRender","retrieve","proccesing","responsive","tablaCajasData","alertaCierre","Swal","fire","title","text","icon","showDenyButton","confirmButtonText","denyButtonText","then","result","isConfirmed","async","datos","FormData","append","url","respuesta","fetch","body","method","resultado","json","tipo","mensaje","reload","error","console","log","cerrarCaja","on","this","data","estadoCaja","dataset","cajaId","tarifaPlenaInput","porcentajeSubsidioInput","subsidioInput","copagoInput","porcentajeAcuInput","subsidioAcuInput","copagoAcuInput","totalAcuInput","porcentajeAlcInput","subsidioAlcInput","copagoAlcInput","totalAlcInput","porcentajeAseoInput","subsidioAseoInput","copagoAseoInput","totalAseoInput","ajusteInput","porcentajeAjusteInput","tarifa_plena","tarifa_plena_sin_formato","tarifa_plena_formateada","revisarValores","calcularDatos","porcentaje","subsidioInputRef","copagoInputRef","totalInputRef","porcentaje_subsidio","insertarDatos","toFixed","calcularSubsidioCopago","subsidio","copago","referencia1","referencia2","referencia3","total","valor_subsidio","valor_copago","ajuste","valor_ajuste","porcentaje_ajuste","calcularPorcentajeAjuste","tablaEstratosData","eventosClick","querySelectorAll","forEach","btnInfo","currentTarget","estratoId","modal","createElement","innerHTML","estrato","year","facturas_vencidas","porcentaje_copago","preventDefault","contains","appendChild","mostrarInfo","infoEstrato","btnEliminar","eliminarEstrato","parentNode","children","textContent","enviarInformacionEliminar","tablaEmitidasPendientesData","numero_factura","btoa","open","previsualizarFactura","attr","btnImprimirFacturas","btnCuentasPorPagar","contenedorSwitch","btnGenerarFacturas","alertaGenerarFacturasAuto","removeEventListener","type","msg","generarFacturas","revisarGeneraAuto","auto","checkbox","checked","onchange","estado","cambiarEstadoAuto","slider","generarCheckBox","eliminarFacturas","subscriptores","subscriptoresVigentes","subscriptoresInactivos","pagosVigentes","fecha","ingreso","ingresosMensuales","totalPagos","totalConsignaciones","selectYear","selectMes","selectYearConsignacion","selectMesConsignacion","consignacionAseo","consignacionAlc","consignacionAcu","total_del_mes","ya_consignado","a_consginar","contenedor_estratos","btnImprimirFacturasFiltradas","leerInputs","consultarIngresosMensuales","leerInputsConsignacion","aseo","acueducto","alcantarillado","a_consignar","imprimirDatosConsignacion","consultarConsignaciones","consultarIngresosFecha","mostrarIngresos","registrados","registrados_activos","registrados_inactivos","pagos_vigentes","ingresos","consignaciones","mostrarResultados","informacionUsuario","fechaActual","Date","toISOString","slice","origin","option","consultarEstratos","tablaUsuarios","tablaUsuariosData","eliminarUsuario","nombre","usuarioId","estadoActual","mensajeAlerta","enviarInformacionEstado","editarEstado","leerAccion","tablaPagosData","numero_pago","previsualizarPago","anularPago","inputCodigo","contenedorFacturas","guardarPagosBtn","totalFacturas","totalRecaudo","facturas","arreglofacturas","limpiarHtml","firstChild","removeChild","facturaEncontrada","find","factura","pagado","combinado","position","showConfirmButton","timer","registrado_nombre","mes_facturado","saldo_anterior","unshift","subscriptor","tabla","recaudo","cantidadFacturas","tr","tdNumeroFactura","tdRegistrado","tdEstrato","tdMesFacturado","monto","tdCopago","infoFactura","consultarFactura","consultarFacturas","length","arregloPagos","map","JSON","stringify","guardarPagos","contenedorFactura","nombreCliente","valorDeuda","deuda","imprimirDeuda","fecha_emision","periodo_fin","periodo_inicio","mesActual","getMonth","arregloFecha","split","diferenciaFechas","onclick","seleccionAnterior","seleccionFactura","acciones","accionesContenedor","accionesCliente","clienteLabel","clienteDato","accionesEstrato","estratoLabel","estratoDato","accionesPeriodo","periodoLabel","periodoDato","accionesMonto","montoLabel","montoTotal","montoDato","botonesContenedor","btnVerFactura","btnPagar","btnBanco","pagarFactura","informacionFactura","tdEmitida","tdPeriodo","tdMonto","tdEstado","imprimirResultados","metodo","registrado","metodoDatos","metodoLabel","metodoDato","registradoDatos","registradoLabel","registradoDato","periodoDatos","montoDatos","html","inputHidden","enviarInformacionPagar","tablaRegistradosData","eventosClickEditar","registradoId","eliminarRegistrado","workbook","XLSX","utils","book_new","worksheet","json_to_sheet","book_append_sheet","writeFile","contenedorPagado","consultarPagos","pagos","pago","fecha_pago","seleccionarPago","recaudador","factura_id","accionesRecaudador","recaudadorLabel","recaudadorDato","accionesMetodo","previsualizarComprobante","informacionPago","tdFechaPago","tdNumeroPago","tdPagoAnulado","tablaBancosData","eventosClickEliminar","btn","bancoId","eliminarBanco","processing","tablaCuentasBancariasData","numeroCuenta","cuentaId","eliminarCuentaBancaria","movimientos","inputFechaInicio","inputFechaFin","btnFiltrar","tabButtons","tabContents","b","c","getElementById","tab","tablaConsignaciones","d","cuenta_id","fecha_inicio","fecha_fin","destroy","tablaEgresos","tablaEgresosSimples","tablaConsignacionesData","eventosClickAnular","consignacionId","showCancelButton","cancelButtonText","input","inputLabel","inputPlaceholder","inputValidator","resultRazon","razon","headers","Content-Type","razon_anulacion","enviarAnulacion","anularConsignacion","tablaCuentasData","eliminarCuenta","form","tbody","btnAgregar","selectBase","contador","opcionesHTML","calcularTotales","totalDebito","totalCredito","spanDebito","spanCredito","color","fila","closest","filas","index","name","getAttribute","nuevoName","setAttribute","recalcularIndices","tablaEgresosData","consecutivo","egresoId","eliminarEgreso","tablaTercerosData","terceroId","eliminarTercero","tablaEgresosSimplesData","anularEgresoSimple"],"mappings":"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","file":"bundle.js","sourcesContent":["\r\n\r\n(function(){\r\n \r\n    const formulario =  document.querySelector('.formulario');\r\n\r\n    if(formulario){\r\n        \r\n        const btnSubmit = document.querySelector('.formulario [type=\"submit\"]');\r\n        if(btnSubmit){\r\n            btnSubmit.addEventListener('click',deshabilitarBoton);\r\n        }\r\n        \r\n       \r\n        function deshabilitarBoton(e){\r\n            setTimeout(()=>{\r\n                e.target.disabled = true;\r\n                e.target.classList.add('formulario__submit--deshabilitado');\r\n            },0)\r\n           \r\n        }\r\n    }\r\n})();","\r\n\r\n(function () {\r\n    const alertaExitoFormulario = document.querySelector('.alerta__exito');\r\n    const formulario = document.querySelector('.formulario');\r\n    if (alertaExitoFormulario) {\r\n        formulario.style.display = 'none';\r\n        setTimeout(() => {\r\n            alertaExitoFormulario.remove();\r\n            redireccionar();\r\n\r\n        }, 3000);\r\n\r\n        function redireccionar() {\r\n            const urlActual = window.location.href;\r\n            if (urlActual.includes('/admin/usuarios/')) {\r\n                window.location.href = '/admin/usuarios';\r\n            }\r\n            if (urlActual.includes('/admin/estratos/')) {\r\n                window.location.href = '/admin/estratos';\r\n            }\r\n            if (urlActual.includes('/admin/registrados/')) {\r\n                window.location.href = '/admin/registrados';\r\n            }\r\n            if (urlActual.includes('/admin/cajas/')) {\r\n                window.location.href = '/admin/cajas';\r\n            }\r\n            if (urlActual.includes('/admin/contabilidad/terceros/')) {\r\n                window.location.href = '/admin/contabilidad/terceros';\r\n            }\r\n            if (urlActual.includes('/admin/contabilidad/cuentas/')) {\r\n                window.location.href = '/admin/contabilidad/cuentas';\r\n            }\r\n            if (urlActual.includes('/admin/contabilidad/bancos/')) {\r\n                window.location.href = '/admin/contabilidad/bancos';\r\n            }\r\n            if (urlActual.includes('/admin/contabilidad/cuentas-bancarias/')) {\r\n                window.location.href = '/admin/contabilidad/cuentas-bancarias';\r\n            }\r\n            if (urlActual.includes('/admin/contabilidad/egresos/')) {\r\n                window.location.href = '/admin/contabilidad/egresos';\r\n            }\r\n            if (urlActual.includes('/admin/contabilidad/egresos-simples/')) {\r\n                window.location.href = '/admin/contabilidad/egresos-simples';\r\n            }\r\n            if (urlActual.includes('/admin/contabilidad/consignaciones/')) {\r\n                window.location.href = '/admin/contabilidad/consignaciones';\r\n            }\r\n        }\r\n    }\r\n\r\n})();\r\n\r\n\r\n\r\n\r\n","(function(){\r\n    const caja = document.querySelector('#caja');\r\n    if(caja){\r\n        const efectivoInicialInput = document.querySelector('#efectivo_inicial');\r\n        efectivoInicialInput.addEventListener('input',function(e){\r\n            formaterValor(e)\r\n        })\r\n        function formaterValor(e){\r\n        \r\n        \r\n            const efectivo_inicial = e.target.value;\r\n            let efectivo_inicial_sin_formato = parseFloat(efectivo_inicial.replace(/,/g, ''));\r\n            if(isNaN(efectivo_inicial_sin_formato)){\r\n                efectivo_inicial_sin_formato = '';\r\n            }\r\n            const efectivo_inicial_formateada =  efectivo_inicial_sin_formato.toLocaleString('en');\r\n            e.target.value = efectivo_inicial_formateada ;\r\n        }\r\n    }\r\n\r\n})();","(function(){\r\n    const infoCaja = document.querySelector('#tablaCajasPagos')\r\n \r\n    if(infoCaja){\r\n        let tablaCajasPagos;\r\n        const urlActual = new URL(window.location);\r\n        const params = new URLSearchParams(urlActual.search);\r\n        const id = params.get('id');\r\n        const infoCaja = document.querySelector('#tablaCajasPagos')\r\n    \r\n       \r\n        mostrarEstratos();\r\n        function mostrarEstratos(){\r\n            \r\n            if(Number.isInteger(parseInt(id))){\r\n         \r\n                $(\"#tablaCajasPagos\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n        \r\n                tablaCajasPagos = $('#tablaCajasPagos').DataTable({\r\n                    ajax:'/api/cajas/pagos?id='+id,\r\n                    \"deferRender\":true,\r\n                    \"retrieve\":true,\r\n                    \"proccesing\":true,\r\n                    responsive:true\r\n                });\r\n            \r\n                // $.ajax({\r\n                //     url:'/api/cajas/pagos?id='+id,\r\n                    \r\n                //     success:function(req){\r\n                //         console.log(req)\r\n                //     },\r\n                //     error:function(error){\r\n                //         console.log(error.responseText);\r\n                //     }\r\n                    \r\n                // })\r\n              \r\n            }else{\r\n                window.location.href='/admin/cajas'\r\n            }\r\n            \r\n        }\r\n    }\r\n})();","\r\n(function(){\r\n    const tablaCajas = document.querySelector('#tablaCajas');\r\n    if(tablaCajas){\r\n        \r\n\r\n        let tablaCajasData;\r\n\r\n        $('#tablaCajas').on('click', '#estadoCaja', function(e) {\r\n            // Manejar el evento aqu√≠\r\n            const id = $(this).data('cajaId');\r\n            alertaCierre(id);\r\n        });\r\n       \r\n\r\n        mostrarEstratos();\r\n        verificarCargaTabla();\r\n        function verificarCargaTabla(){\r\n        \r\n            tablaCajasData.on('draw', function(){\r\n                const estadoCaja = document.querySelector('#estadoCaja');\r\n                if(estadoCaja){\r\n\r\n                    estadoCaja.addEventListener('dblclick',function(e){\r\n                   \r\n                        const id = e.target.dataset.cajaId;\r\n                        alertaCierre(id);\r\n                    })\r\n                }\r\n           \r\n            });\r\n        }\r\n\r\n        function alertaCierre(id){\r\n            Swal.fire({\r\n                \r\n                title: 'Esta Seguro de Cerrar esta Caja?',\r\n                text:'Esta acci√≥n no se puede deshacer',\r\n                icon:'warning',\r\n                showDenyButton: true,\r\n          \r\n                confirmButtonText: 'Seguro',\r\n                denyButtonText: `Cancelar`,\r\n              }).then((result) => {\r\n                \r\n\r\n                if (result.isConfirmed) {\r\n                 \r\n                   cerrarCaja(id);\r\n                } \r\n              })\r\n        }\r\n\r\n        async function cerrarCaja(id){\r\n           \r\n            const datos = new FormData();\r\n            datos.append('id', id);\r\n   \r\n            try {\r\n                const url = '/api/cajas/cerrar';\r\n                //const url =`${location.origin}/api/cajas/cerrar`;\r\n                //const url = 'http://localhost:3000/api/cajas/cerrar';\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method:'POST'\r\n                });\r\n                const resultado = await respuesta.json();\r\n                \r\n                if(resultado.tipo == 'success'){\r\n                    if(resultado.tipo=='error'){\r\n                        Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Oops...',\r\n                            text: resultado.mensaje,\r\n            \r\n                        })\r\n                        return;\r\n                    }\r\n                    Swal.fire({\r\n                        icon: 'success',\r\n                      \r\n                        text: resultado.mensaje,\r\n                        \r\n                    })\r\n                    tablaCajasData.ajax.reload(); \r\n                }\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n        function mostrarEstratos(){\r\n            $(\"#tablaCajas\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n        \r\n            tablaCajasData = $('#tablaCajas').DataTable({\r\n                ajax: '/api/cajas',\r\n                \"deferRender\":true,\r\n                \"retrieve\":true,\r\n                \"proccesing\":true,\r\n                responsive:true\r\n            });\r\n            // $.ajax({\r\n            //     url:'/api/cajas',\r\n            //     success:function(req){\r\n            //         console.log(req)\r\n            //     },\r\n            //     error:function(error){\r\n            //         console.log(error.responseText);\r\n            //     }\r\n                \r\n            // })\r\n        }\r\n\r\n    }\r\n})();\r\n\r\n\r\n","\r\n\r\n(function(){\r\n    const estrato = document.querySelector('#estrato');\r\n    if(estrato){\r\n\r\n        /* Selectores */\r\n        const tarifaPlenaInput= document.querySelector('#tarifa_plena');\r\n        const porcentajeSubsidioInput = document.querySelector('#porcentaje_subsidio');\r\n        const subsidioInput= document.querySelector('#subsidio') ;\r\n        const copagoInput = document.querySelector('#copago')\r\n\r\n        const porcentajeAcuInput= document.querySelector('#porcentaje_acu');\r\n        const subsidioAcuInput= document.querySelector('#subsidio_acu') ;\r\n        const copagoAcuInput = document.querySelector('#copago_acu');\r\n        const totalAcuInput = document.querySelector('#tarifa_plena_acu')\r\n\r\n        const porcentajeAlcInput = document.querySelector('#porcentaje_alc');\r\n        const subsidioAlcInput= document.querySelector('#subsidio_alc') ;\r\n        const copagoAlcInput = document.querySelector('#copago_alc');\r\n        const totalAlcInput = document.querySelector('#tarifa_plena_alc')\r\n        \r\n\r\n        const porcentajeAseoInput = document.querySelector('#porcentaje_aseo');\r\n        const subsidioAseoInput= document.querySelector('#subsidio_aseo') ;\r\n        const copagoAseoInput = document.querySelector('#copago_aseo');\r\n        const totalAseoInput = document.querySelector('#tarifa_plena_aseo')\r\n\r\n        const ajusteInput = document.querySelector('#ajuste');\r\n        const porcentajeAjusteInput = document.querySelector('#porcentaje_ajuste');\r\n\r\n        /* Eventos */\r\n\r\n        tarifaPlenaInput.addEventListener('input',function(e){\r\n            formaterValor(e);\r\n            calcularSubsidioCopago();\r\n            revisarValores();\r\n            ajusteInput.value = '';\r\n            porcentajeAjusteInput.value = '';\r\n        \r\n        })\r\n\r\n        porcentajeSubsidioInput.addEventListener('input',function(e){\r\n            const porcentaje = parseFloat(e.target.value)\r\n            if(porcentaje<0 || porcentaje>100){\r\n              \r\n                e.target.value = '';\r\n            }\r\n            calcularSubsidioCopago();\r\n            revisarValores();\r\n            ajusteInput.value = '';\r\n            porcentajeAjusteInput.value = '';\r\n        \r\n        })\r\n\r\n\r\n        porcentajeAcuInput.addEventListener('input',function(e){\r\n        \r\n          \r\n            if(((e.target.value)*1)<0 || ((e.target.value)*1)>100){\r\n             \r\n                e.target.value = '';\r\n            }\r\n          \r\n            const porcentaje = (e.target.value)/100;\r\n     \r\n            calcularDatos(porcentaje,subsidioAcuInput, copagoAcuInput,totalAcuInput);\r\n          \r\n          \r\n        })\r\n        porcentajeAlcInput.addEventListener('input',function(e){\r\n            if(((e.target.value)*1)<0 || ((e.target.value)*1)>100){\r\n             \r\n                e.target.value = '';\r\n            }\r\n            const porcentaje = (e.target.value)/100;\r\n            calcularDatos(porcentaje,subsidioAlcInput, copagoAlcInput,totalAlcInput);\r\n    \r\n          \r\n        })\r\n        porcentajeAseoInput.addEventListener('input',function(e){\r\n            if(((e.target.value)*1)<0 || ((e.target.value)*1)>100){\r\n             \r\n                e.target.value = '';\r\n            }\r\n            const porcentaje = (e.target.value)/100;\r\n            calcularDatos(porcentaje,subsidioAseoInput, copagoAseoInput,totalAseoInput);\r\n          \r\n        })\r\n\r\n\r\n\r\n\r\n        porcentajeAjusteInput.addEventListener('input',calcularValorAjuste)\r\n        \r\n        ajusteInput.addEventListener('input',function(e){\r\n            calcularPorcentajeAjuste()\r\n            formaterValor(e);\r\n         \r\n          \r\n        })\r\n\r\n        /* Funciones */\r\n\r\n        function formaterValor(e){\r\n            const tarifa_plena = e.target.value;\r\n            let tarifa_plena_sin_formato = parseFloat(tarifa_plena.replace(/,/g, ''));\r\n            if(isNaN(tarifa_plena_sin_formato)){\r\n                tarifa_plena_sin_formato = '';\r\n            }\r\n            const tarifa_plena_formateada =  tarifa_plena_sin_formato.toLocaleString('en');\r\n            e.target.value = tarifa_plena_formateada ;\r\n        }\r\n\r\n        function calcularValorAjuste(){\r\n\r\n            if(((porcentajeAjusteInput.value)*1)<0 || ((porcentajeAjusteInput.value)*1)>100){\r\n                porcentajeAjusteInput.value = '';\r\n            }\r\n            if(copagoInput.value!='' && porcentajeAjusteInput.value !='' && copagoInput.value!=0){\r\n                const copago = parseFloat(copagoInput.value.replace(/,/g, ''));\r\n                const ajuste = ((porcentajeAjusteInput.value/100)*copago).toFixed(2);\r\n                ajusteInput.value = (parseFloat(ajuste)).toLocaleString('en');\r\n \r\n              \r\n            }else{\r\n                ajusteInput.value = '';\r\n                porcentajeAjusteInput.value = '';\r\n\r\n            }\r\n        }\r\n    \r\n        function calcularPorcentajeAjuste(){\r\n      \r\n            if(copagoInput.value!='' && ajusteInput.value !='' && copagoInput.value!=0){\r\n                const valor_ajuste = parseFloat(ajusteInput.value.replace(/,/g, ''));\r\n                const valor_copago = parseFloat(copagoInput.value.replace(/,/g, ''));\r\n\r\n                if(valor_ajuste>valor_copago){\r\n                    ajusteInput.value = '';\r\n                    porcentajeAjusteInput.value = '';\r\n                    return;\r\n                }\r\n\r\n                const porcentaje_ajuste = (((valor_ajuste*100)/valor_copago).toFixed(2))*1;\r\n                porcentajeAjusteInput.value = porcentaje_ajuste;\r\n              \r\n            }else{\r\n                ajusteInput.value = '';\r\n                porcentajeAjusteInput.value = '';\r\n\r\n            }\r\n            \r\n        }\r\n\r\n        function revisarValores(){\r\n\r\n   \r\n           \r\n            calcularDatos(porcentajeAcuInput.value/100,subsidioAcuInput, copagoAcuInput,totalAcuInput);\r\n            calcularDatos(porcentajeAlcInput.value/100,subsidioAlcInput, copagoAlcInput,totalAlcInput);\r\n            calcularDatos(porcentajeAseoInput.value/100,subsidioAseoInput, copagoAseoInput,totalAseoInput);\r\n     \r\n        }\r\n     \r\n        function calcularDatos(porcentaje,subsidioInputRef, copagoInputRef,totalInputRef){\r\n         \r\n            const tarifa_plena_formateada = tarifaPlenaInput.value;\r\n            const porcentaje_subsidio = (porcentajeSubsidioInput.value)/100;\r\n        \r\n            if(tarifa_plena_formateada!='' && porcentaje_subsidio>=0 && porcentaje >=0){\r\n              \r\n                const tarifa_plena = parseFloat(tarifa_plena_formateada.replace(/,/g, ''));\r\n            \r\n                const subsidio = tarifa_plena*porcentaje_subsidio*porcentaje;\r\n                const copago = (((tarifa_plena*(1-porcentaje_subsidio))*porcentaje).toFixed(2))*1;\r\n                const totalValor = tarifa_plena*porcentaje;\r\n                const total = totalValor.toLocaleString('en');\r\n              \r\n                insertarDatos(subsidio, copago, subsidioInputRef, copagoInputRef,totalInputRef,total);\r\n            }else{\r\n                subsidioInputRef.value=0;\r\n                copagoInputRef.value=0;\r\n                totalInputRef.value=0;\r\n            }\r\n\r\n        }\r\n\r\n       \r\n\r\n        function calcularSubsidioCopago(){\r\n            const tarifa_plena_formateada = tarifaPlenaInput.value;\r\n\r\n            const porcentaje_subsidio = parseFloat((porcentajeSubsidioInput.value)/100);\r\n            \r\n          \r\n            if(tarifa_plena_formateada!='' && porcentaje_subsidio>=0){\r\n               \r\n                const tarifa_plena = parseFloat(tarifa_plena_formateada.replace(/,/g, ''));\r\n                const subsidio = tarifa_plena*porcentaje_subsidio;\r\n                const copago = ((tarifa_plena*(1-porcentaje_subsidio)).toFixed(2))*1;\r\n          \r\n                insertarDatos(subsidio, copago, subsidioInput, copagoInput);\r\n            }else{\r\n              \r\n                subsidioInput.value = '' ;\r\n                copagoInput.value = '';\r\n            }\r\n        }\r\n\r\n        function insertarDatos(subsidio, copago, referencia1, referencia2, referencia3=[] , total= ''){\r\n            if(total!=''){\r\n               referencia3.value = total;\r\n            }\r\n            const valor_subsidio = subsidio.toLocaleString('en');\r\n            const valor_copago = copago.toLocaleString('en');\r\n            referencia1.value = valor_subsidio\r\n            referencia2.value = valor_copago\r\n           \r\n        }\r\n        \r\n    }\r\n})();","\r\n(function(){\r\n\r\n\r\n    const tablaEstratos = document.querySelector('#tablaEstratos');\r\n\r\n    if(tablaEstratos){\r\n\r\n        $('#tablaEstratos').on('click', '#btn_eliminar_estrato', function(e) {\r\n            // Manejar el evento aqu√≠\r\n      \r\n            eliminarEstrato(e);\r\n        });\r\n\r\n        let tablaEstratosData;\r\n        mostrarEstratos();\r\n        verificarCargaTabla();\r\n        function verificarCargaTabla(){\r\n      \r\n            tablaEstratosData.on('draw', eventosClick);\r\n        }\r\n\r\n        function eventosClick(){\r\n\r\n            const btnsInfo = document.querySelectorAll('#btn_info_estrato');\r\n            \r\n            btnsInfo.forEach(btnInfo=>{\r\n                btnInfo.addEventListener('click', function(e){\r\n                  \r\n                    infoEstrato(e);\r\n                })\r\n            })\r\n          \r\n            const btnEliminar = document.querySelectorAll('#btn_eliminar_estrato');\r\n            btnEliminar.forEach(btnEliminar=>{\r\n              \r\n                btnEliminar.addEventListener('click', function(e){\r\n                   // console.log(e.currentTarget)\r\n             \r\n                    eliminarEstrato(e);\r\n                })\r\n            })\r\n        }\r\n\r\n\r\n      \r\n\r\n        async function infoEstrato(e){\r\n            const id = e.currentTarget.dataset.estratoId;\r\n            const url = `/api/estratos/info?id=${id}`;\r\n  \r\n            try {\r\n                const respuesta = await fetch(url);\r\n                const resultado = await respuesta.json();\r\n                \r\n                if(resultado.tipo == 'error'){\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: resultado.mensaje,\r\n        \r\n                    })\r\n                    return;\r\n                }\r\n                mostrarInfo(resultado);\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n            \r\n        }\r\n\r\n        function mostrarInfo(resultado){\r\n  \r\n\r\n            const modal = document.createElement('DIV');\r\n            modal.classList.add('modal');\r\n            modal.innerHTML = `\r\n                <div class=\"modal__informacion\" id=\"info\">\r\n                    <h3>Informaci√≥n del Estrato </h3>\r\n                    \r\n                    <ul class=\"modal__lista\">\r\n                         <li class=\"modal__elemento modal__elemento--grid\">\r\n                           \r\n                            <p class=\"modal__info\">Estrato: <span>${resultado.estrato}</span></p>\r\n                            <p class=\"modal__info\">A√±o Vigente: <span>${resultado.year}</span></p>\r\n                            <p class=\"modal__info\">Tarifa Plena: <span>${parseFloat((resultado.tarifa_plena)).toLocaleString('en')}</span></p>\r\n                            <p class=\"modal__info\">N√∫mero de Facturas Vencidas: <span>${resultado.facturas_vencidas}</span></p>\r\n        \r\n                         </li>\r\n                   \r\n\r\n                         <li class=\"modal__elemento modal__elemento--grid\">\r\n                            <p class=\"modal__info\">Porcentaje Subsidio: <span>${resultado.porcentaje_subsidio}%</span></p>\r\n                            <p class=\"modal__info\">Porcentaje Copago: <span>${resultado.porcentaje_copago}%</span></p>\r\n                            <p class=\"modal__info\">Subsidio: <span>${parseFloat((resultado.subsidio)).toLocaleString('en')}</span></p>\r\n                            <p class=\"modal__info\">Copago: <span>${parseFloat((resultado.copago)).toLocaleString('en')}</span></p>\r\n                         </li>\r\n                        \r\n                         <li class=\"modal__elemento modal__elemento--grid\">\r\n                            <p class=\"modal__info\">Porcentaje Acueducto: <span>${parseFloat((resultado.porcentaje_acu)).toLocaleString('en')}%</span></p>\r\n                            <p class=\"modal__info\">Tarifa Plena Acueducto: <span>${parseFloat((resultado.tarifa_plena_acu)).toLocaleString('en')}</span></p>\r\n                            <p class=\"modal__info\">Valor Subsidio Acueducto: <span>${parseFloat((resultado.subsidio_acu)).toLocaleString('en')}</span></p>\r\n                            <p class=\"modal__info\">Valor Copago Acueducto : <span>${parseFloat((resultado.copago_acu)).toLocaleString('en')}</span></p>\r\n                         </li>\r\n                         \r\n                         <li class=\"modal__elemento modal__elemento--grid\">\r\n                            <p class=\"modal__info\">Porcentaje Alcantarillado: <span>${parseFloat((resultado.porcentaje_alc)).toLocaleString('en')}%</span></p>\r\n                            <p class=\"modal__info\">Tarifa Plena Alcantarillado: <span>${parseFloat((resultado.tarifa_plena_alc)).toLocaleString('en')}</span></p>\r\n                            <p class=\"modal__info\">Valor Subsidio Alcantarillado: <span>${parseFloat((resultado.subsidio_alc)).toLocaleString('en')}</span></p>\r\n                            <p class=\"modal__info\">Valor Copago Alcantarillado : <span>${parseFloat((resultado.copago_alc)).toLocaleString('en')}</span></p>\r\n                         </li>\r\n                         \r\n                         <li class=\"modal__elemento modal__elemento--grid\">\r\n                            <p class=\"modal__info\">Porcentaje Aseo: <span>${parseFloat((resultado.porcentaje_aseo)).toLocaleString('en')}%</span></p>\r\n                            <p class=\"modal__info\">Tarifa Plena Aseo: <span>${parseFloat((resultado.tarifa_plena_aseo)).toLocaleString('en')}</span></p>\r\n                            <p class=\"modal__info\">Valor Subsidio Aseo: <span>${parseFloat((resultado.subsidio_aseo)).toLocaleString('en')}</span></p>\r\n                            <p class=\"modal__info\">Valor Copago Aseo : <span>${parseFloat((resultado.copago_aseo)).toLocaleString('en')}</span></p>\r\n                         </li>\r\n                         <li class=\"modal__elemento modal__elemento--grid\">\r\n                            <p class=\"modal__info\">Porcentaje Ajuste: <span>${parseFloat((resultado.porcentaje_ajuste)).toLocaleString('en')}%</span></p>\r\n                            <p class=\"modal__info\">Tarifa Plena Ajuste: <span>${parseFloat((resultado.ajuste)).toLocaleString('en')}</span></p>\r\n                           \r\n                         </li>\r\n                         \r\n                        \r\n                    </ul>\r\n\r\n                    <div class=\"modal__opciones\">\r\n                      \r\n             \r\n                      \r\n                        <button type=\"button\" class=\"modal__cerrar-modal\">Cerrar</button>\r\n                    </div>\r\n                    \r\n                </div>\r\n            `\r\n            setTimeout(()=>{\r\n                const info = document.querySelector('#info');\r\n                info.classList.add('modal__informacion--animar');\r\n            },10)\r\n            modal.addEventListener('click',function(e){\r\n                e.preventDefault();\r\n                if(e.target.classList.contains('modal__cerrar-modal')){\r\n                    const info = document.querySelector('#info');\r\n                    info.classList.add('modal__informacion--cerrar');\r\n                    setTimeout(()=>{\r\n                        modal.remove();\r\n                        \r\n                       \r\n                    },500)\r\n                }\r\n               \r\n           \r\n            })\r\n\r\n            document.querySelector('.dashboard__contenedor').appendChild(modal);\r\n        }\r\n\r\n        function eliminarEstrato(e){\r\n   \r\n            const estrato =e.currentTarget.parentNode.parentNode.parentNode.children[1].textContent;\r\n            \r\n          \r\n            const id = e.currentTarget.dataset.estratoId;\r\n            Swal.fire({\r\n                title: `Esta seguro que desea eliminar el estrato ${estrato}?`,\r\n                text:'Esta accion no se puede deshacer',\r\n                icon: 'question',\r\n                showDenyButton: true,\r\n                confirmButtonText: 'Aceptar',\r\n                denyButtonText: `Cancelar`,\r\n              }).then((result) => {\r\n                /* Read more about isConfirmed, isDenied below */\r\n                if (result.isConfirmed) {\r\n                    enviarInformacionEliminar(id);\r\n                    \r\n                  //Swal.fire('Saved!', '', 'success')\r\n                }\r\n              })\r\n        }\r\n        async function enviarInformacionEliminar(id){\r\n      \r\n            url = `/api/estratos/eliminar?id=${id}`;\r\n            try {\r\n                const respuesta = await fetch(url)\r\n                const resultado = await respuesta.json();\r\n               \r\n            \r\n                if(resultado.tipo=='error'){\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: resultado.mensaje,\r\n        \r\n                    })\r\n                    return;\r\n                }\r\n                Swal.fire({\r\n                    icon: 'success',\r\n                  \r\n                    text: resultado.mensaje,\r\n                    \r\n                })\r\n                tablaEstratosData.ajax.reload(); \r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n\r\n\r\n \r\n        function mostrarEstratos(){\r\n      \r\n            $(\"#tablaEstratos\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n    \r\n            tablaEstratosData = $('#tablaEstratos').DataTable({\r\n                ajax: '/api/estratos',\r\n                \"deferRender\":true,\r\n                \"retrieve\":true,\r\n                \"proccesing\":true,\r\n                responsive:true\r\n            });\r\n            // $.ajax({\r\n            //     url:'/api/estratos',\r\n            //     success:function(req){\r\n            //         console.log(req)\r\n            //     },\r\n            //     error:function(error){\r\n            //         console.log(error.responseText);\r\n            //     }\r\n                \r\n            // })\r\n        }\r\n\r\n        \r\n    }\r\n\r\n})();\r\n","(function(){\r\n    const emitidasPendientes = document.querySelector('#tablaEmitidasPendientes');\r\n    if(emitidasPendientes){\r\n      \r\n        let tablaEmitidasPendientesData;\r\n        mostrarEmitidasPendientes();\r\n        \r\n        $('#tablaEmitidasPendientes').on('click', '#btn_previsualizar', function(e) {\r\n            // Manejar el evento aqu√≠\r\n       \r\n            previsualizarFactura($(this).attr('data-numero-factura'))\r\n        });\r\n        \r\n      function previsualizarFactura(numero_factura){\r\n        const url =`/api/previsualizar-factura?key=${btoa(numero_factura)}`;\r\n        // Abre la URL en una nueva pesta√±a\r\n        window.open(url, '_blank');\r\n      }\r\n\r\n        function mostrarEmitidasPendientes(){\r\n      \r\n            $(\"#tablaEmitidasPendientes\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n    \r\n            tablaEmitidasPendientesData = $('#tablaEmitidasPendientes').DataTable({\r\n                ajax: '/api/emitidas',\r\n                \"deferRender\":true,\r\n                \"retrieve\":true,\r\n                \"proccesing\":true,\r\n                responsive:true\r\n            });\r\n            // $.ajax({\r\n            //     url:'/api/emitidas',\r\n            //     success:function(req){\r\n            //         console.log(req)\r\n            //     },\r\n            //     error:function(error){\r\n            //         console.log(error.responseText);\r\n            //     }\r\n                \r\n            // })\r\n        }\r\n    }\r\n})();","\r\n\r\n(function(){\r\n    \r\n    const btnImprimirFacturas = document.querySelector('#btnImprimirFacturas');\r\n    if(btnImprimirFacturas){\r\n\r\n       \r\n        const btnCuentasPorPagar = document.querySelector('#btnCuentasPorPagar');\r\n\r\n        const contenedorSwitch = document.querySelector('#switch');\r\n        const btnGenerarFacturas = document.querySelector('#btnGenerarFacturas');\r\n     \r\n        const btnEliminarFacturas  = document.querySelector('#btnEliminarFacturas');\r\n\r\n        btnEliminarFacturas.addEventListener('click',alertaEliminarFacturas)\r\n       \r\n\r\n        revisarGeneraAuto();\r\n\r\n        function alertaEliminarFacturas(){\r\n            Swal.fire({\r\n                title: 'Esta seguro de generar las facturas de este mes?',\r\n              \r\n             \r\n                showDenyButton: true,\r\n                confirmButtonText: 'Eliminar',\r\n                denyButtonText: `Cancelar`,\r\n              }).then((result) => {\r\n                /* Read more about isConfirmed, isDenied below */\r\n                if (result.isConfirmed) {\r\n                    eliminarFacturas();\r\n                }\r\n              })\r\n        }\r\n\r\n        async function eliminarFacturas(){\r\n            try {\r\n                const respuesta = await fetch('/api/eliminar-facturas');\r\n                const resultado = await respuesta.json();\r\n             \r\n                Swal.fire({\r\n                    icon: resultado.type,\r\n        \r\n                    text: resultado.msg\r\n                })\r\n            } catch (error) {\r\n                \r\n            }\r\n        }\r\n\r\n        btnImprimirFacturas.addEventListener('click',function(){\r\n            const url = '/api/facturas'\r\n            //const url = `${location.origin}/api/facturas`\r\n            window.open(url, '_blank');\r\n        })\r\n\r\n        btnCuentasPorPagar.addEventListener('click',function(){\r\n            console.log('asdf')\r\n            const url = '/api/cuentas-por-cobrar'\r\n            // const url = `${location.origin}/api/cuentas-por-pagar`\r\n            \r\n            window.open(url, '_blank');\r\n        })\r\n\r\n        function alertaGenerarFacturasAuto(){\r\n         \r\n            Swal.fire({\r\n                title: 'Esta seguro de generar las facturas de este mes?',\r\n              \r\n             \r\n                showDenyButton: true,\r\n                confirmButtonText: 'Generar',\r\n                denyButtonText: `Cancelar`,\r\n              }).then((result) => {\r\n                /* Read more about isConfirmed, isDenied below */\r\n                if (result.isConfirmed) {\r\n                     generarFacturas();\r\n                }\r\n              })\r\n        }\r\n\r\n        async function generarFacturas(){\r\n            btnGenerarFacturas.removeEventListener('click', alertaGenerarFacturasAuto)\r\n            btnGenerarFacturas.classList.add('inicio__boton-generar--inactivo');\r\n              \r\n            try {\r\n                const respuesta = await fetch(`/api/generar-facturas-manual`);\r\n    \r\n                const resultado = await respuesta.json()\r\n                console.log(resultado)\r\n                btnGenerarFacturas.classList.remove('inicio__boton-generar--inactivo');\r\n                btnGenerarFacturas.addEventListener('click', alertaGenerarFacturasAuto)\r\n                    Swal.fire({\r\n                        icon: resultado.type,\r\n            \r\n                        text: resultado.msg\r\n                    })\r\n     \r\n               \r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n\r\n        async function cambiarEstadoAuto(estado){\r\n            let auto;\r\n            if(estado){\r\n                auto = 1;\r\n            }else{\r\n                auto = 0;\r\n            }\r\n\r\n\r\n\r\n      \r\n            const datos = new FormData();\r\n            datos.append('id',1)\r\n            datos.append('auto',auto);\r\n\r\n            const url = `/api/generar-auto`;\r\n           \r\n            try {\r\n                await fetch(url,{\r\n                    body:datos,\r\n                    method:'POST'\r\n                })\r\n          \r\n             \r\n                revisarGeneraAuto()\r\n            \r\n            } catch (error) {\r\n                \r\n            }\r\n        }\r\n\r\n        async function revisarGeneraAuto(){\r\n\r\n\r\n         \r\n            try {\r\n                const respuesta = await fetch('/api/generar-auto');\r\n               \r\n                const resultado = await respuesta.json()\r\n               \r\n                const auto = resultado.auto;\r\n                generarCheckBox(auto);\r\n               \r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n\r\n    \r\n        }\r\n\r\n        function generarCheckBox(auto){\r\n            const checkbox = document.createElement('INPUT')\r\n            checkbox.type=\"checkbox\"\r\n            checkbox.id = \"checkbox\";\r\n        \r\n            if(btnGenerarFacturas.classList.contains('inicio__boton-generar--inactivo')){\r\n                btnGenerarFacturas.classList.remove('inicio__boton-generar--inactivo')\r\n            }\r\n            if(auto==1){\r\n                checkbox.checked = true\r\n                btnGenerarFacturas.classList.add('inicio__boton-generar--inactivo');\r\n                btnGenerarFacturas.removeEventListener('click', alertaGenerarFacturasAuto)\r\n\r\n                \r\n            }else{\r\n                checkbox.checked = false\r\n                btnGenerarFacturas.addEventListener('click', alertaGenerarFacturasAuto)\r\n            \r\n            }\r\n            checkbox.onchange = function(){\r\n                setTimeout(()=>{\r\n                    cambiarEstadoAuto(checkbox.checked)\r\n                },300)\r\n                \r\n            }\r\n            \r\n            const slider = document.createElement('DIV')\r\n \r\n            slider.classList.add('slider', 'round');\r\n            contenedorSwitch.appendChild(checkbox)\r\n            contenedorSwitch.appendChild(slider)\r\n\r\n        }\r\n\r\n    }\r\n\r\n})();\r\n\r\n\r\n\r\n","\r\n        \r\n(function(){\r\n    document.addEventListener(\"DOMContentLoaded\", function(){\r\n        const caja = document.querySelector('#cajas');\r\n    if(caja){\r\n\r\n        const subscriptores = document.querySelector('#subscriptores');\r\n        const subscriptoresVigentes = document.querySelector('#subscriptoresVigentes');\r\n        const subscriptoresInactivos = document.querySelector('#subscriptoresInactivos');\r\n        const pagosVigentes = document.querySelector('#pagosVigentes');\r\n        const fecha = document.querySelector('#fecha');\r\n        const ingreso = document.querySelector('#ingreso');\r\n        const ingresosMensuales = document.querySelector('#ingresosMensuales');\r\n        const totalPagos = document.querySelector('#totalPagos');\r\n        const totalConsignaciones = document.querySelector('#totalConsignaciones');\r\n        const selectYear = document.querySelector('#year');\r\n        const selectMes = document.querySelector('#mes');\r\n\r\n        //selects para la consignacion\r\n        const selectYearConsignacion = document.querySelector('#year_consignacion')\r\n        const selectMesConsignacion = document.querySelector('#mes_consignacion')\r\n\r\n\r\n        const consignacionAseo = document.querySelector('#consignacionAseo')\r\n        const consignacionAlc = document.querySelector('#consignacionAlc')\r\n        const consignacionAcu = document.querySelector('#consignacionAcu')\r\n        const total_del_mes = document.querySelector('#total_del_mes')\r\n        const ya_consignado = document.querySelector('#ya_consignado')\r\n        const a_consginar = document.querySelector('#a_consignar')\r\n\r\n        const contenedor_estratos = document.querySelector('#estratos');\r\n        const btnImprimirFacturasFiltradas = document.querySelector('#btnImprimirFacturasFiltradas');\r\n     \r\n\r\n\r\n        \r\n\r\n        selectYear.addEventListener('change',leerInputs);\r\n        selectMes.addEventListener('change',leerInputs);\r\n\r\n        selectYearConsignacion.addEventListener('change',leerInputsConsignacion);\r\n        selectMesConsignacion.addEventListener('change',leerInputsConsignacion);\r\n\r\n\r\n\r\n        informacionUsuario();\r\n        fechaActual();\r\n        leerInputs();\r\n        consultarEstratos();\r\n\r\n       \r\n\r\n        btnImprimirFacturasFiltradas.addEventListener('click',function(e){\r\n            const estratoId = contenedor_estratos.value;\r\n            if(estratoId==0){\r\n                Swal.fire({\r\n                    icon: 'error',\r\n        \r\n                    text: 'Porfavor seleccione un estrato'\r\n                })\r\n            }else{\r\n                const url = `/api/facturas?estratos-key=${btoa(estratoId)}`\r\n                //const url = `${location.origin}/api/facturas`\r\n                window.open(url, '_blank');\r\n            }\r\n        })\r\n\r\n        fecha.addEventListener('change',function(e){\r\n            const fechaSeleccionada = e.target.value;\r\n            consultarIngresosFecha(fechaSeleccionada)\r\n        })\r\n     \r\n        async function consultarEstratos(){\r\n            const url = `${location.origin}/api/estratos-all`;\r\n            try {\r\n                const respuesta = await fetch(url);\r\n                const resultado = await respuesta.json();\r\n                mostrarEstratos(resultado);\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n\r\n        function mostrarEstratos(estratos){\r\n     \r\n            estratos.forEach(estrato => {\r\n                const option = document.createElement('OPTION');\r\n                option.value=estrato.id\r\n                option.textContent = estrato.estrato\r\n                contenedor_estratos.appendChild(option)\r\n            });\r\n        }\r\n\r\n        function leerInputs(){\r\n            const year = selectYear.value;\r\n            const mes = selectMes.value;\r\n            const fecha = year+\"-\"+mes;\r\n            consultarIngresosMensuales(fecha);\r\n        }\r\n        function leerInputsConsignacion(){\r\n            const year = selectYearConsignacion.value;\r\n            const mes = selectMesConsignacion.value;\r\n            const fecha = year+\"-\"+mes;\r\n      \r\n       \r\n            consultarConsignaciones(fecha);\r\n        }\r\n\r\n        async function consultarIngresosMensuales(fecha){\r\n            const datos = new FormData();\r\n            datos.append('fecha', fecha);\r\n            const url = '/api/inicio/ingresos-mensuales';\r\n            try {\r\n                const respuesta = await fetch(url, {\r\n                    body:datos,\r\n                    method:'POST'\r\n                });\r\n                const resultado = await respuesta.json();\r\n                ingresosMensuales.textContent = '$'+resultado;\r\n\r\n            } catch (error) {\r\n                \r\n            }\r\n        }\r\n        async function consultarConsignaciones(fecha){\r\n        \r\n            const datos = new FormData();\r\n            datos.append('fecha', fecha);\r\n            const url = '/api/inicio/consignaciones';\r\n            try {\r\n                const respuesta = await fetch(url, {\r\n                    body:datos,\r\n                    method:'POST'\r\n                });\r\n                const resultado = await respuesta.json();\r\n        \r\n                imprimirDatosConsignacion(resultado);\r\n\r\n            } catch (error) {\r\n                \r\n            }\r\n        }\r\n        function imprimirDatosConsignacion(resultado){\r\n      \r\n            consignacionAseo.textContent = '';\r\n            consignacionAcu.textContent = '';\r\n            consignacionAlc.textContent = '';\r\n            total_del_mes.textContent = '';\r\n            ya_consignado.textContent = '';\r\n\r\n            a_consginar.textContent = '';\r\n         \r\n        \r\n            consignacionAseo.textContent = '$'+(resultado.aseo||0);\r\n            consignacionAcu.textContent = '$'+(resultado.acueducto || 0);\r\n            consignacionAlc.textContent = '$'+(resultado.alcantarillado || 0);\r\n            total_del_mes.textContent = '$'+(resultado.total_del_mes || 0);\r\n            ya_consignado.textContent = '$'+(resultado.ya_consignado || 0);\r\n            a_consginar.textContent = '$'+(resultado.a_consignar || 0);\r\n        }\r\n\r\n        async function informacionUsuario(){\r\n            try {\r\n                const respuesta = await fetch('/api/inicio/registrados');\r\n                const resultado = await respuesta.json();\r\n                mostrarResultados(resultado);\r\n            } catch (error) {\r\n                \r\n            }\r\n        }\r\n\r\n        function mostrarResultados(resultado){\r\n            \r\n            const {registrados, registrados_activos, registrados_inactivos, pagos_vigentes, ingresos, consignaciones} = resultado;\r\n            subscriptores.textContent = registrados;\r\n            subscriptoresVigentes.textContent = registrados_activos;\r\n            subscriptoresInactivos.textContent = registrados_inactivos;\r\n            pagosVigentes.textContent = pagos_vigentes;\r\n            totalPagos.textContent = '$'+ingresos\r\n            totalConsignaciones.textContent = '$'+consignaciones\r\n\r\n        }\r\n        \r\n\r\n        function fechaActual(){\r\n            const fechaActual = new Date().toISOString().slice(0, 10);\r\n            fecha.value = fechaActual;\r\n            consultarIngresosFecha(fechaActual);\r\n        }\r\n        async function consultarIngresosFecha(fecha){\r\n            const datos = new FormData();\r\n            datos.append('fecha', fecha);\r\n       \r\n            try {\r\n                const respuesta = await fetch('/api/inicio/fecha', {\r\n                    body:datos,\r\n                    method:'POST'\r\n                });\r\n                const resultado = await respuesta.json();\r\n                mostrarIngresos(resultado);\r\n            } catch (error) {\r\n                \r\n            }\r\n        }\r\n        function mostrarIngresos(resultado){\r\n            ingreso.textContent = '$'+resultado\r\n        }\r\n\r\n        let data = [\r\n            {\r\n              sheet: \"Adults\",\r\n              columns: [\r\n                { label: \"User\", value: \"user\" }, // Top level data\r\n                { label: \"Age\", value: (row) => row.age + \" years\" }, // Custom format\r\n                { label: \"Phone\", value: (row) => (row.more ? row.more.phone || \"\" : \"\") }, // Run functions\r\n              ],\r\n              content: [\r\n                { user: \"Andrea\", age: 20, more: { phone: \"11111111\" } },\r\n                { user: \"Luis\", age: 21, more: { phone: \"12345678\" } },\r\n              ],\r\n            },\r\n            {\r\n              sheet: \"Children\",\r\n              columns: [\r\n                { label: \"User\", value: \"user\" }, // Top level data\r\n                { label: \"Age\", value: \"age\", format: '# \"years\"' }, // Column format\r\n                { label: \"Phone\", value: \"user.more.phone\", format: \"(###) ###-####\" }, // Deep props and column format\r\n              ],\r\n              content: [\r\n                { user: \"Manuel\", age: 16, more: { phone: 9999999900 } },\r\n                { user: \"Ana\", age: 17, more: { phone: 8765432135 } },\r\n              ],\r\n            },\r\n          ]\r\n          \r\n          let settings = {\r\n            fileName: \"MySpreadsheet\", // Name of the resulting spreadsheet\r\n            extraLength: 3, // A bigger number means that columns will be wider\r\n            writeOptions: {}, // Style options from https://github.com/SheetJS/sheetjs#writing-options\r\n          }\r\n          \r\n      \r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    })\r\n    \r\n\r\n})();","\r\n(function(){\r\n   \r\n\r\n    \r\n    const tablaUsuarios = document.querySelector('#tablaUsuarios');\r\n    if(tablaUsuarios){\r\n        let tablaUsuariosData;\r\n        tablaUsuarios.addEventListener('click',function(e){\r\n            leerAccion(e);\r\n        })\r\n\r\n        $('#tablaUsuarios').on('click', '#btn_eliminar_usuario', function(e) {\r\n            // Manejar el evento aqu√≠\r\n      \r\n            eliminarUsuario(e);\r\n        });\r\n    \r\n        \r\n\r\n        mostrarUsuarios();\r\n\r\n        verificarCargaTabla();\r\n        function verificarCargaTabla(){\r\n      \r\n            tablaUsuariosData.on('draw', eventosClick);\r\n        }\r\n\r\n        function eventosClick(){\r\n\r\n            \r\n          \r\n            const btnEliminar = document.querySelectorAll('#btn_eliminar_usuario');\r\n            btnEliminar.forEach(btnEliminar=>{\r\n              \r\n                btnEliminar.addEventListener('click', function(e){\r\n                   // console.log(e.currentTarget)\r\n                    \r\n                   eliminarUsuario(e);\r\n                })\r\n            })\r\n        }\r\n\r\n\r\n        function leerAccion(e){\r\n        \r\n            // if(e.target.id=='btn_eliminar_usuario'){\r\n            //     eliminarUsuario(e);\r\n            // }\r\n            if(e.target.id=='btn_cambiar_estado'){\r\n                editarEstado(e);\r\n            }\r\n        }\r\n        function eliminarUsuario(e){\r\n            const nombre = e.currentTarget.parentNode.parentNode.parentNode.children[1].textContent;\r\n            const id = e.currentTarget.dataset.usuarioId;\r\n            Swal.fire({\r\n                title: `Esta seguro que desea eliminar a  ${nombre}?`,\r\n                text:'Esta accion no se puede deshacer',\r\n                icon: 'question',\r\n                showDenyButton: true,\r\n                confirmButtonText: 'Aceptar',\r\n                denyButtonText: `Cancelar`,\r\n              }).then((result) => {\r\n                /* Read more about isConfirmed, isDenied below */\r\n                if (result.isConfirmed) {\r\n                    enviarInformacionEliminar(id);\r\n                    \r\n                  //Swal.fire('Saved!', '', 'success')\r\n                }\r\n              })\r\n        }\r\n        async function enviarInformacionEliminar(id){\r\n           \r\n            url = `/api/usuarios/eliminar?id=${id}`;\r\n            try {\r\n                const respuesta = await fetch(url)\r\n                const resultado = await respuesta.json();\r\n              \r\n             \r\n                if(resultado.tipo=='error'){\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: resultado.mensaje,\r\n        \r\n                    })\r\n                    return;\r\n                }\r\n                Swal.fire({\r\n                    icon: 'success',\r\n                  \r\n                    text: resultado.mensaje,\r\n                    \r\n                })\r\n                tablaUsuariosData.ajax.reload(); \r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n        function editarEstado(e){\r\n           \r\n            const estadoActual = e.target.dataset.estadoActual;\r\n            const nombre = e.target.parentNode.parentNode.children[1].textContent;\r\n            const id = e.target.dataset.usuarioId;\r\n\r\n            let mensajeAlerta = '';\r\n        \r\n            if(estadoActual == 1){\r\n                mensajeAlerta = 'Esta seguro que desea desactivar a';\r\n            }else{\r\n                mensajeAlerta = 'Esta seguro que desea activar a';\r\n            }\r\n        \r\n            \r\n            Swal.fire({\r\n                title: `${mensajeAlerta}  ${nombre}?`,\r\n                text:'Esta accion no se puede deshacer',\r\n                icon: 'question',\r\n                showDenyButton: true,\r\n                confirmButtonText: 'Aceptar',\r\n                denyButtonText: `Cancelar`,\r\n              }).then((result) => {\r\n                /* Read more about isConfirmed, isDenied below */\r\n                if (result.isConfirmed) {\r\n                    enviarInformacionEstado(id);\r\n                    \r\n                  //Swal.fire('Saved!', '', 'success')\r\n                }\r\n              })\r\n        }\r\n\r\n        async function enviarInformacionEstado(id){\r\n            url = `/api/usuarios/editar-estado?id=${id}`;\r\n            try {\r\n                const respuesta = await fetch(url)\r\n                const resultado = await respuesta.json();\r\n           \r\n                if(resultado.tipo=='error'){\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: resultado.mensaje,\r\n        \r\n                    })\r\n                    return;\r\n                }\r\n                Swal.fire({\r\n                    icon: 'success',\r\n                  \r\n                    title: resultado.mensaje,\r\n                    \r\n                })\r\n                tablaUsuariosData.ajax.reload(); \r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n\r\n        function mostrarUsuarios(){\r\n            $(\"#tablaUsuarios\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n    \r\n            tablaUsuariosData = $('#tablaUsuarios').DataTable({\r\n                ajax: '/api/usuarios',\r\n                \"deferRender\":true,\r\n                \"retrieve\":true,\r\n                \"proccesing\":true,\r\n                responsive:true\r\n            });\r\n        }\r\n       \r\n    \r\n\r\n    }  \r\n        \r\n   \r\n\r\n \r\n \r\n\r\n\r\n  \r\n})();","(function(){\r\n    const tablaPagos = document.querySelector('#tablaPagos');\r\n    if(tablaPagos){\r\n\r\n   \r\n        let tablaPagosData;\r\n        mostraroPagos();\r\n\r\n        $('#tablaPagos').on('click', '#btn_previsualizar', function(e) {\r\n            // Manejar el evento aqu√≠\r\n       \r\n            previsualizarPago($(this).attr('data-numero-pago'))\r\n        });\r\n        $('#tablaPagos').on('click', '#btn_anular', function(e) {\r\n            // Manejar el evento aqu√≠\r\n            eliminarPagoAlerta($(this).attr('data-numero-pago'));\r\n            // Resto del c√≥digo\r\n        });\r\n\r\n        \r\n      \r\n        \r\n      \r\n        function previsualizarPago(numero_pago){\r\n            const url =`/api/previsualizar-pago?key=${btoa(numero_pago)}`;\r\n                // Abre la URL en una nueva pesta√±a\r\n                window.open(url, '_blank');\r\n\r\n        }\r\n        function eliminarPagoAlerta(numero_pago){\r\n                  \r\n            Swal.fire({\r\n                title: `Esta seguro que desea anular el pago # ${numero_pago}?`,\r\n                text:'Esta accion no se puede deshacer',\r\n                icon: 'question',\r\n                showDenyButton: true,\r\n                confirmButtonText: 'Aceptar',\r\n                denyButtonText: `Cancelar`,\r\n              }).then((result) => {\r\n                /* Read more about isConfirmed, isDenied below */\r\n                if (result.isConfirmed) {\r\n                    anularPago(numero_pago);\r\n                    \r\n                  //Swal.fire('Saved!', '', 'success')\r\n                }\r\n              })\r\n        }\r\n        async function anularPago(numero_pago){\r\n            const datos = new FormData();\r\n            datos.append('numero_pago', numero_pago);\r\n            \r\n            \r\n            const url = '/api/anular-pago';\r\n            try {\r\n                const respuesta = await  fetch(url, {\r\n                    body:datos,\r\n                    method:'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n                console.log(resultado)\r\n                if(resultado.tipo=='error'){\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: resultado.mensaje,\r\n        \r\n                    })\r\n                    return;\r\n                }\r\n                Swal.fire({\r\n                    icon: 'success',\r\n                  \r\n                    text: resultado.mensaje,\r\n                    \r\n                })\r\n                tablaPagosData.ajax.reload(); \r\n            } catch (error) {\r\n                \r\n            }\r\n        }\r\n\r\n        function mostraroPagos(){\r\n      \r\n            $(\"#tablaPagos\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n        \r\n            tablaPagosData = $('#tablaPagos').DataTable({\r\n                ajax: '/api/lista-pagos',\r\n                \"deferRender\":true,\r\n                \"retrieve\":true,\r\n                \"proccesing\":true,\r\n                responsive:true\r\n            });\r\n            // $.ajax({\r\n            //     url:'/api/lista-pagos',\r\n            //     success:function(req){\r\n            //         console.log(req)\r\n            //     },\r\n            //     error:function(error){\r\n            //         console.log(error.responseText);\r\n            //     }\r\n                \r\n            // })\r\n        }\r\n    }\r\n})();\r\n\r\n\r\n","\r\n\r\n(function () {\r\n    const contenedorPagar = document.querySelector('#contenedorPagar');\r\n    if (contenedorPagar) {\r\n        const inputCodigo = document.querySelector('#numero_factura');\r\n        const contenedorFacturas = document.querySelector('#pagarFacturas');\r\n        const guardarPagosBtn = document.querySelector('#guardarPagos');\r\n        const totalFacturas = document.querySelector('#totalFacturas');\r\n        const totalRecaudo = document.querySelector('#totalRecaudo');\r\n\r\n        let facturas;\r\n        let arreglofacturas = []\r\n        consultarFacturas()\r\n        guardarPagosBtn.addEventListener('click', confirmarPagos);\r\n\r\n        async function guardarPagos() {\r\n            const datos = new FormData();\r\n\r\n            const arregloPagos = arreglofacturas.map(factura => factura.id);\r\n\r\n            datos.append('pagos', JSON.stringify(arregloPagos));\r\n            try {\r\n                const respuesta = await fetch('/api/subir-pagos', {\r\n                    body: datos,\r\n                    method: 'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n                if (resultado.tipo == 'error') {\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops',\r\n                        text: resultado.mensaje\r\n                    })\r\n                } else {\r\n                    limpiarHtml();\r\n                    totalFacturas.textContent = 0;\r\n                    totalRecaudo.textContent = '$0'\r\n                    arreglofacturas = [];\r\n                    Swal.fire({\r\n                        icon: 'success',\r\n\r\n                        text: resultado.mensaje\r\n                    })\r\n\r\n                }\r\n            } catch (error) {\r\n\r\n            }\r\n        }\r\n\r\n        function confirmarPagos() {\r\n            if (arreglofacturas.length > 0) {\r\n                Swal.fire({\r\n                    title: `Esta seguro que desea subir ${totalFacturas.textContent} Pagos por ${totalRecaudo.textContent}`,\r\n                    icon: 'question',\r\n                    showDenyButton: true,\r\n                    confirmButtonText: 'Aceptar',\r\n                    denyButtonText: `Cancelar`,\r\n                }).then((result) => {\r\n                    /* Read more about isConfirmed, isDenied below */\r\n                    if (result.isConfirmed) {\r\n                        guardarPagos();\r\n\r\n                        //Swal.fire('Saved!', '', 'success')\r\n                    }\r\n                })\r\n            } else {\r\n                Swal.fire(\r\n                    'Error',\r\n                    'Debe agregar al menos una factura',\r\n                    'error'\r\n                )\r\n            }\r\n        }\r\n\r\n\r\n        function infoFactura(facturaEncontrada) {\r\n\r\n            if (arreglofacturas.find(factura => factura.id === facturaEncontrada.id)) {\r\n                setTimeout(() => {\r\n                    Swal.fire(\r\n                        'Error',\r\n                        'La Factura ya fue agregada a la fila de pagos',\r\n                        'error'\r\n                    )\r\n                    return;\r\n                }, 1)\r\n\r\n            } else if (facturaEncontrada.pagado == 1) {\r\n                setTimeout(() => {\r\n                    Swal.fire(\r\n                        'Error',\r\n                        'La Factura ya ha sido cancelada',\r\n                        'error'\r\n                    )\r\n                    return;\r\n                }, 1)\r\n\r\n            } else if (facturaEncontrada.combinado == 1) {\r\n                setTimeout(() => {\r\n                    Swal.fire(\r\n                        'Error',\r\n                        'La Factura ha sido combinada',\r\n                        'error'\r\n                    )\r\n                    return;\r\n                }, 1)\r\n            } else if (facturaEncontrada.estrato == \"TEMPORALES\") {\r\n                setTimeout(() => {\r\n                    Swal.fire(\r\n                        'Error',\r\n                        'Estrato Temporales no admitido ',\r\n                        'error'\r\n                    )\r\n                    return;\r\n                }, 1)\r\n            } else {\r\n                Swal.fire({\r\n                    position: 'top-end',\r\n                    icon: 'success',\r\n                    title: 'Factura agregada a la pila',\r\n                    showConfirmButton: false,\r\n                    timer: 1500\r\n                })\r\n\r\n                const { id, numero_factura, registrado_nombre, estrato, mes_facturado, copago, ajuste, saldo_anterior } = facturaEncontrada;\r\n                arreglofacturas.unshift({\r\n                    numero_factura: numero_factura,\r\n                    subscriptor: registrado_nombre,\r\n                    estrato: estrato,\r\n                    mes_facturado: mes_facturado,\r\n                    copago: copago,\r\n                    ajuste: ajuste,\r\n                    saldo_anterior: saldo_anterior,\r\n                    id: id\r\n\r\n\r\n                })\r\n\r\n                const tabla = document.createElement('TABLE');\r\n                tabla.classList.add('table');\r\n\r\n                limpiarHtml();\r\n                let recaudo = 0;\r\n                let cantidadFacturas = 0;\r\n                arreglofacturas.forEach(factura => {\r\n\r\n                    const { numero_factura, subscriptor, estrato, mes_facturado, copago, ajuste, saldo_anterior } = factura;\r\n\r\n                    const tr = document.createElement('TR');\r\n                    tr.classList.add('table__tr')\r\n                    const tdNumeroFactura = document.createElement('TD');\r\n                    tdNumeroFactura.classList.add('table__td');\r\n                    tdNumeroFactura.textContent = `#${numero_factura}`\r\n\r\n                    const tdRegistrado = document.createElement('TD');\r\n                    tdRegistrado.classList.add('table__td');\r\n                    tdRegistrado.innerHTML = `<span class=\"table__span\">Cliente:&nbsp; </span>&nbsp; ${subscriptor}`;\r\n\r\n                    const tdEstrato = document.createElement('TD');\r\n                    tdEstrato.classList.add('table__td');\r\n                    tdEstrato.innerHTML = `<span class=\"table__span\">Estrato:&nbsp; </span>&nbsp; ${estrato}`\r\n\r\n                    const tdMesFacturado = document.createElement('TD');\r\n                    tdMesFacturado.classList.add('table__td');\r\n                    tdMesFacturado.innerHTML = `<span class=\"table__span\">Mes Facturado:&nbsp; </span>&nbsp; ${mes_facturado}`\r\n\r\n                    let monto = parseFloat(copago) + parseFloat(saldo_anterior) - parseFloat(ajuste)\r\n\r\n                    const tdCopago = document.createElement('TD');\r\n                    tdCopago.classList.add('table__td');\r\n                    tdCopago.innerHTML = ` <span class=\"table__span\">Monto:&nbsp; </span>$ ${monto.toLocaleString('en')}`\r\n\r\n\r\n\r\n\r\n\r\n\r\n                    tr.appendChild(tdNumeroFactura)\r\n                    tr.appendChild(tdRegistrado)\r\n                    tr.appendChild(tdEstrato)\r\n                    tr.appendChild(tdMesFacturado)\r\n                    tr.appendChild(tdCopago)\r\n                    tabla.appendChild(tr);\r\n                    recaudo = recaudo + monto;\r\n                    cantidadFacturas = cantidadFacturas + 1;\r\n\r\n                })\r\n\r\n                totalFacturas.textContent = cantidadFacturas\r\n                totalRecaudo.textContent = '$' + recaudo.toLocaleString('en')\r\n\r\n                contenedorFacturas.appendChild(tabla)\r\n\r\n            }\r\n\r\n\r\n\r\n\r\n        }\r\n\r\n\r\n\r\n        function consultarFactura(e) {\r\n            const numero_factura = e.target.value\r\n\r\n\r\n            const facturaEncontrada = facturas.find(factura => factura.numero_factura === numero_factura);\r\n            if (facturaEncontrada) {\r\n                inputCodigo.value = '';\r\n                infoFactura(facturaEncontrada);\r\n            }\r\n        }\r\n\r\n        function agregarEventos() {\r\n\r\n            inputCodigo.addEventListener('input', function (e) {\r\n\r\n\r\n                consultarFactura(e);\r\n            })\r\n        }\r\n\r\n\r\n\r\n        async function consultarFacturas() {\r\n            try {\r\n                const resultado = await fetch('/api/facturas-por-pagar');\r\n                const respuesta = await resultado.json();\r\n                facturas = respuesta;\r\n\r\n\r\n                agregarEventos();\r\n            } catch (error) {\r\n\r\n            }\r\n        }\r\n\r\n        function limpiarHtml() {\r\n            while (contenedorFacturas.firstChild) {\r\n                contenedorFacturas.removeChild(contenedorFacturas.firstChild)\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n})();","\r\n\r\n(function(){\r\n    const contenedorFactura = document.querySelector('#facturas');\r\n    if(contenedorFactura){\r\n            const urlActual = new URL(window.location);\r\n            const params = new URLSearchParams(urlActual.search);\r\n            const id = params.get('id');\r\n            const nombreCliente = document.querySelector('#cliente')\r\n           \r\n            consultarFacturas();\r\n\r\n            async function consultarFacturas(){\r\n\r\n                const datos = new FormData();\r\n                datos.append('id',id);\r\n                \r\n                try {\r\n                    const url = '/api/facturas-registrado'\r\n                    const respuesta = await fetch(url, {\r\n                        method:'POST',\r\n                        body: datos\r\n                    });\r\n                    const resultado = await respuesta.json();\r\n             \r\n                    if(resultado){\r\n                  \r\n                        imprimirDeuda(resultado.deuda);\r\n                        imprimirResultados(resultado.facturas);\r\n                    }\r\n                                  \r\n                } catch (error) {\r\n                    console.log(error)\r\n                }\r\n            }\r\n            function imprimirDeuda(valorDeuda){\r\n                const deuda = document.querySelector('#deuda')\r\n                deuda.classList = [];\r\n                deuda.classList.add('deuda__valor')\r\n                if(valorDeuda==0){\r\n                    \r\n                    deuda.classList.add('deuda__valor--pagado')\r\n                }else{\r\n                    deuda.classList.add('deuda__valor--vencido')\r\n                }\r\n                deuda.textContent = `$ ${valorDeuda.toLocaleString('en')}`\r\n            }\r\n\r\n            function imprimirResultados(facturas){\r\n                \r\n\r\n                \r\n                const tabla = document.createElement('TABLE');\r\n                tabla.classList.add('table');\r\n\r\n                facturas.forEach(factura => {\r\n  \r\n                    const {id, numero_factura, fecha_emision, periodo_fin, periodo_inicio, copago, pagado, ajuste, combinado, saldo_anterior} = factura\r\n                    const dateFechaActual = new Date();\r\n                    const mesActual = dateFechaActual.getMonth()+1;\r\n                 \r\n                    const arregloFecha = fecha_emision.split('-');\r\n                    const mesEmision = parseFloat(arregloFecha[1])\r\n                    \r\n                   \r\n                   const diferenciaFechas = mesActual - mesEmision;\r\n                    \r\n            \r\n                   \r\n                \r\n              \r\n                    const tr = document.createElement('TR');\r\n                    tr.classList.add('table__tr')\r\n                    // tr.dataset.facturaId = id;\r\n                    tr.onclick = function(e){\r\n                        seleccionFactura(e);\r\n                        informacionFactura(factura);\r\n                    }\r\n\r\n                    const tdNumeroFactura = document.createElement('TD');\r\n                    tdNumeroFactura.classList.add('table__td');\r\n                    tdNumeroFactura.textContent = `#${numero_factura}`\r\n\r\n                    const tdEmitida = document.createElement('TD');\r\n                    tdEmitida.classList.add('table__td');\r\n                    tdEmitida.innerHTML = `<span class=\"table__span\">Emitida:&nbsp; </span>&nbsp; ${fecha_emision}`;\r\n\r\n                    const tdPeriodo = document.createElement('TD');\r\n                    tdPeriodo.classList.add('table__td');\r\n                    tdPeriodo.innerHTML = `<span class=\"table__span\">Periodo:&nbsp; </span>&nbsp; ${periodo_inicio} &nbsp; - &nbsp;${periodo_fin}`\r\n\r\n                    const montoTotal = parseFloat(copago)+parseFloat(saldo_anterior)-parseFloat(ajuste)\r\n                    const tdMonto = document.createElement('TD');\r\n                    tdMonto.classList.add('table__td');\r\n                    tdMonto.innerHTML = ` <span class=\"table__span\">Monto:&nbsp; </span>$ ${parseFloat(montoTotal).toLocaleString('en')}`\r\n\r\n                    const tdEstado = document.createElement('TD');\r\n                    tdEstado.classList.add('table__td');\r\n                    if(diferenciaFechas>0 && pagado==0){\r\n                        tdEstado.innerHTML = ` <span class=\"table__boton table__boton--vencida\">Impaga</span>`\r\n                    }else{\r\n                        tdEstado.innerHTML = ` <span class=\"table__boton table__boton--${ pagado== 1?'pagado':'impaga'}\">${pagado == 1?'Pagado':'Impaga'}</span>`\r\n                    \r\n                    }   \r\n                    if(combinado == 1){\r\n                        tdEstado.innerHTML = ` <span class=\"table__boton table__boton--vencida\">Combinada</span>`\r\n                    }\r\n\r\n                     \r\n                   \r\n\r\n\r\n\r\n                    tr.appendChild(tdNumeroFactura)\r\n                    tr.appendChild(tdEmitida)\r\n                    tr.appendChild(tdPeriodo)\r\n                    tr.appendChild(tdMonto)\r\n                    tr.appendChild(tdEstado)\r\n                    tabla.appendChild(tr);\r\n\r\n\r\n                });\r\n                \r\n                \r\n                \r\n                \r\n                contenedorFactura.appendChild(tabla)\r\n\r\n            }\r\n\r\n            function informacionFactura(factura){\r\n                const {id, numero_factura, fecha_emision, estrato, periodo_inicio, periodo_fin, copago,ajuste, pagado, saldo_anterior, combinado} = factura;\r\n               \r\n           \r\n                limpiarHtml();\r\n                const acciones = document.querySelector('#actions')\r\n              \r\n\r\n                const accionesContenedor = document.createElement('DIV');\r\n                accionesContenedor.classList.add('actions__contenedor')\r\n              \r\n              \r\n                const accionesInfo = document.createElement('DIV');\r\n                accionesInfo.classList.add('actions__info');\r\n\r\n                /* cliente */\r\n\r\n                const accionesCliente = document.createElement('DIV');\r\n                accionesCliente.classList.add('registrado__datos');\r\n\r\n                const clienteLabel = document.createElement('SPAN');\r\n                clienteLabel.classList.add('registrado__label');\r\n                clienteLabel.textContent = 'Cliente'\r\n                \r\n                const clienteDato = document.createElement('P');\r\n                clienteDato.classList.add('registrado__dato');\r\n                clienteDato.textContent = nombreCliente.textContent\r\n                \r\n                /* estrato */\r\n\r\n                \r\n                \r\n                const accionesEstrato = document.createElement('DIV');\r\n                accionesEstrato.classList.add('registrado__datos');\r\n\r\n                \r\n                const estratoLabel = document.createElement('SPAN');\r\n                estratoLabel.classList.add('registrado__label');\r\n                estratoLabel.textContent = 'Estrato'\r\n                \r\n                const estratoDato = document.createElement('P');\r\n                estratoDato.classList.add('registrado__dato');\r\n                estratoDato.textContent = estrato\r\n\r\n                /* Periodo */\r\n\r\n                const accionesPeriodo = document.createElement('DIV');\r\n                accionesPeriodo.classList.add('registrado__datos');\r\n\r\n                \r\n                const periodoLabel = document.createElement('SPAN');\r\n                periodoLabel.classList.add('registrado__label');\r\n                periodoLabel.textContent = 'Periodo'\r\n                \r\n                const periodoDato = document.createElement('P');\r\n                periodoDato.classList.add('registrado__dato');\r\n                \r\n                periodoDato.innerHTML = `${periodo_inicio} &nbsp;- &nbsp;  ${periodo_fin}`\r\n\r\n                /* Monto */\r\n\r\n                const accionesMonto = document.createElement('DIV');\r\n                accionesMonto.classList.add('registrado__datos');\r\n\r\n\r\n           \r\n                \r\n                const montoLabel = document.createElement('SPAN');\r\n                montoLabel.classList.add('registrado__label');\r\n                montoLabel.textContent = 'Monto '\r\n\r\n                const montoTotal = parseFloat(copago)+parseFloat(saldo_anterior)-parseFloat(ajuste)\r\n                \r\n                const montoDato = document.createElement('P');\r\n                montoDato.classList.add('registrado__dato');\r\n                montoDato.textContent =`$ ${montoTotal .toLocaleString('en')}`;\r\n                \r\n\r\n                \r\n\r\n                accionesCliente.appendChild(clienteLabel);\r\n                accionesCliente.appendChild(clienteDato);\r\n\r\n                accionesEstrato.appendChild(estratoLabel);\r\n                accionesEstrato.appendChild(estratoDato);\r\n                \r\n                accionesPeriodo.appendChild(periodoLabel);\r\n                accionesPeriodo.appendChild(periodoDato);\r\n\r\n                accionesMonto.appendChild(montoLabel);\r\n                accionesMonto.appendChild(montoDato);\r\n    \r\n                accionesContenedor.appendChild(accionesCliente);\r\n                accionesContenedor.appendChild(accionesEstrato);\r\n                accionesContenedor.appendChild(accionesPeriodo);\r\n                accionesContenedor.appendChild(accionesMonto);\r\n\r\n                acciones.appendChild(accionesContenedor)\r\n\r\n                //Botones \r\n                const botonesContenedor = document.createElement('DIV');\r\n                botonesContenedor.classList.add('actions__botones');\r\n\r\n                const btnVerFactura =  document.createElement('SPAN');\r\n                btnVerFactura.classList.add('actions__boton');\r\n\r\n                btnVerFactura.onclick = function(){\r\n                    previsualizarFactura(numero_factura);\r\n                }\r\n                btnVerFactura.textContent = 'Previzualizar';\r\n\r\n               \r\n\r\n                if(pagado==0 && combinado==0){\r\n                    const btnPagar =  document.createElement('SPAN');\r\n                    btnPagar.classList.add('actions__boton');\r\n                    btnPagar.textContent = 'Pago Efectivo';\r\n                    btnPagar.id = 'btnPagar';\r\n                   \r\n                    const btnBanco =  document.createElement('SPAN');\r\n                    btnBanco.classList.add('actions__boton');\r\n                    btnBanco.textContent = 'transferencia';\r\n                    btnBanco.id = 'btnBanco';\r\n\r\n                    btnPagar.onclick = function(){\r\n                        btnBanco.style.display = 'none'\r\n                        btnPagar.style.display = 'none'\r\n                        pagarFactura(factura, 1, btnPagar,btnBanco);\r\n                    }\r\n                    btnBanco.onclick = function(){\r\n                        btnBanco.style.display = 'none'\r\n                        btnPagar.style.display = 'none'\r\n                        pagarFactura(factura, 0, btnPagar,btnBanco);\r\n                    }\r\n    \r\n                 \r\n                    botonesContenedor.appendChild(btnPagar);\r\n                    botonesContenedor.appendChild(btnBanco);\r\n                }\r\n\r\n                botonesContenedor.appendChild(btnVerFactura);\r\n\r\n                acciones.appendChild(botonesContenedor);\r\n\r\n            }\r\n\r\n            async function previsualizarFactura(numero_factura){\r\n               \r\n\r\n                const url =`/api/previsualizar-factura?key=${btoa(numero_factura)}`;\r\n                // Abre la URL en una nueva pesta√±a\r\n                window.open(url, '_blank');\r\n\r\n              \r\n            }\r\n\r\n            function pagarFactura(factura, metodo, btnPagar,btnBanco){\r\n                const {id,copago, periodo_inicio, periodo_fin, numero_factura}  = factura;\r\n   \r\n\r\n                const registrado = document.createElement('DIV');\r\n                registrado.classList.add('registrado');\r\n\r\n                const metodoDatos = document.createElement('DIV');\r\n                metodoDatos.classList.add('registrado__datos');\r\n\r\n                const metodoLabel = document.createElement('SPAN');\r\n                metodoLabel.classList.add('registrado__label');\r\n                metodoLabel.textContent = 'Metodo de Pago:'\r\n\r\n                const metodoDato = document.createElement('P');\r\n                metodoDato.classList.add('registrado__dato')\r\n                metodoDato.textContent = metodo==1?'Efectivo':'Transferencia';\r\n\r\n                const registradoDatos = document.createElement('DIV');\r\n                registradoDatos.classList.add('registrado__datos');\r\n\r\n                const registradoLabel = document.createElement('SPAN');\r\n                registradoLabel.classList.add('registrado__label');\r\n                registradoLabel.textContent = 'Cliente:'\r\n\r\n                const registradoDato = document.createElement('P');\r\n                registradoDato.classList.add('registrado__dato')\r\n                registradoDato.textContent = nombreCliente.textContent;\r\n\r\n                const periodoDatos = document.createElement('DIV');\r\n                periodoDatos.classList.add('registrado__datos');\r\n\r\n                \r\n                const periodoLabel = document.createElement('SPAN');\r\n                periodoLabel.classList.add('registrado__label');\r\n                periodoLabel.textContent = 'Periodo:'\r\n                \r\n                const periodoDato = document.createElement('P');\r\n                periodoDato.classList.add('registrado__dato');\r\n                periodoDato.innerHTML = `${periodo_inicio} &nbsp;- &nbsp;  ${periodo_fin}`\r\n\r\n                /* Monto */\r\n\r\n                const montoDatos = document.createElement('DIV');\r\n                montoDatos.classList.add('registrado__datos');\r\n\r\n                \r\n                const montoLabel = document.createElement('SPAN');\r\n                montoLabel.classList.add('registrado__label');\r\n                montoLabel.textContent = 'Monto: '\r\n                \r\n                const montoDato = document.createElement('P');\r\n                montoDato.classList.add('registrado__dato');\r\n                montoDato.textContent =`$ ${(parseFloat(copago)).toLocaleString('en')}`;\r\n                \r\n\r\n                \r\n\r\n                \r\n\r\n                metodoDatos.appendChild(metodoLabel);\r\n                metodoDatos.appendChild(metodoDato);\r\n\r\n                registradoDatos.appendChild(registradoLabel);\r\n                registradoDatos.appendChild(registradoDato);\r\n            \r\n                periodoDatos.appendChild(periodoLabel)\r\n                periodoDatos.appendChild(periodoDato)\r\n\r\n                montoDatos.appendChild(montoLabel)\r\n                montoDatos.appendChild(montoDato)\r\n\r\n                registrado.appendChild(metodoDatos);\r\n                registrado.appendChild(registradoDatos);\r\n                registrado.appendChild(periodoDatos);\r\n                registrado.appendChild(montoDatos);\r\n\r\n               \r\n  \r\n\r\n                Swal.fire({\r\n                    title: `Confirme La informaci√≥n`,\r\n                    html: registrado,\r\n                    text:'Esta accion no se puede deshacer',\r\n                    icon: 'question',\r\n                    showDenyButton: true,\r\n                    confirmButtonText: 'Aceptar',\r\n                    denyButtonText: `Cancelar`,\r\n                  }).then((result) => {\r\n                    /* Read more about isConfirmed, isDenied below */\r\n                    if (result.isConfirmed) {\r\n                        enviarInformacionPagar(id, metodo, btnPagar, btnBanco);\r\n                        \r\n                      //Swal.fire('Saved!', '', 'success')\r\n                    }else{\r\n                        btnPagar.style.display = 'block'\r\n                        btnBanco.style.display  = 'block'\r\n                    }\r\n                  })\r\n            }\r\n\r\n            async function enviarInformacionPagar(id, metodo, btnPagar, btnBanco){\r\n                //const url =  'http://localhost:3000/api/pagar'; //desarrollo\r\n                const url =  '/api/pagar';\r\n                const datos = new FormData();\r\n                datos.append('id',id);\r\n                datos.append('metodo', metodo);\r\n                try {\r\n                    const respuesta = await fetch(url,{\r\n                        body:datos,\r\n                        method:'POST'\r\n                    })\r\n                    const resultado = await respuesta.json();\r\n            \r\n               \r\n                 \r\n                    if(resultado.tipo == 'error'){\r\n                        Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Oops',\r\n                            text: resultado.mensaje\r\n                          })\r\n                    }else{\r\n                        Swal.fire({\r\n                            icon: 'success',\r\n                            \r\n                            text: resultado.mensaje\r\n                          })\r\n                    const body =  document.querySelector('body');\r\n                    const inputHidden = document.createElement(\"input\");\r\n                    inputHidden.type = \"hidden\"; \r\n                    inputHidden.id = \"confirmacionPago\"; \r\n                    body.appendChild(inputHidden);\r\n\r\n\r\n                        while(contenedorFactura.firstChild){\r\n                            contenedorFactura.removeChild(contenedorFactura.firstChild);\r\n                        }\r\n                     \r\n                        document.querySelector('#btnPagar').remove();\r\n                        consultarFacturas();\r\n                     \r\n                    }\r\n                } catch (error) {\r\n                    \r\n                }\r\n            }\r\n\r\n  \r\n          \r\n\r\n\r\n\r\n            function seleccionFactura(e){\r\n\r\n                const seleccionAnterior =  document.querySelector('.table__seleccion');\r\n                if(seleccionAnterior){\r\n                    seleccionAnterior.classList.remove('table__seleccion')\r\n                }\r\n                const facturaSeleccionada  =e.currentTarget;\r\n                facturaSeleccionada.classList.add('table__seleccion');\r\n            }\r\n\r\n   \r\n\r\n            function limpiarHtml(){\r\n                const acciones = document.querySelector('#actions')\r\n                while(acciones.firstChild){\r\n                    acciones.removeChild(acciones.firstChild);\r\n                }\r\n            }\r\n            \r\n       \r\n\r\n       \r\n        \r\n\r\n     }\r\n\r\n})();","\r\n\r\n(function(){\r\n  \r\n    const tablaRegistrados = document.querySelector('#tablaRegistrados');\r\n \r\n    if(tablaRegistrados){\r\n       \r\n        const downloadUsersXlsxBtn = document.querySelector('#downloadUsersXlsx');\r\n        downloadUsersXlsxBtn.addEventListener('click', downloadUsersXlsx)\r\n\r\n      \r\n\r\n        $('#tablaRegistrados').on('click', '#btn_eliminar_registrado', function(e) {\r\n            // Manejar el evento aqu√≠\r\n            leerAccion(e);\r\n            // Resto del c√≥digo\r\n        });\r\n       \r\n        let tablaRegistradosData;\r\n        mostrarRegistrados();\r\n        verificarCargaTabla();\r\n\r\n        function verificarCargaTabla(){\r\n            tablaRegistradosData.on('draw', eventosClickEditar);\r\n        }\r\n        function eventosClickEditar(){\r\n          \r\n            const btnEliminar = document.querySelectorAll('#btn_eliminar_registrado');\r\n            btnEliminar.forEach(btnEliminar=>{\r\n              \r\n                btnEliminar.addEventListener('click', function(e){\r\n                    // const registradoId = e.currentTarget.dataset.registradoId;\r\n                    leerAccion(e);\r\n                })\r\n            })\r\n        }\r\n        // tablaRegistrados.addEventListener('click',function(e){\r\n        //     leerAccion(e);\r\n        // })\r\n        function leerAccion( e){\r\n       \r\n            if(e.currentTarget.id=='btn_eliminar_registrado'){\r\n                eliminarRegistrado( e);\r\n            }\r\n            \r\n        }\r\n        function eliminarRegistrado(e){\r\n            const registrado = e.currentTarget.parentNode.parentNode.parentNode.children[1].textContent;\r\n            const id = e.currentTarget.dataset.registradoId;\r\n\r\n            \r\n            Swal.fire({\r\n                title: `Esta seguro que desea eliminar el estrato ${registrado}?`,\r\n                text:'Esta accion no se puede deshacer',\r\n                icon: 'question',\r\n                showDenyButton: true,\r\n                confirmButtonText: 'Aceptar',\r\n                denyButtonText: `Cancelar`,\r\n              }).then((result) => {\r\n                /* Read more about isConfirmed, isDenied below */\r\n                if (result.isConfirmed) {\r\n                   \r\n                    enviarInformacionEliminar(id);\r\n                    \r\n                  //Swal.fire('Saved!', '', 'success')\r\n                }\r\n              })\r\n        }\r\n        async function enviarInformacionEliminar(id){\r\n           \r\n       \r\n            const url = `/api/registrados/eliminar?id=${id}`;\r\n           \r\n  \r\n            try {\r\n                const respuesta = await fetch(url)\r\n                const resultado = await respuesta.json();\r\n               \r\n            \r\n                if(resultado.tipo=='error'){\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: resultado.mensaje,\r\n        \r\n                    })\r\n                    return;\r\n                }\r\n                Swal.fire({\r\n                    icon: 'success',\r\n                  \r\n                    text: resultado.mensaje,\r\n                    \r\n                })\r\n                tablaRegistradosData.ajax.reload(); \r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n        \r\n\r\n\r\n        function mostrarRegistrados(){\r\n            $(\"#tablaRegistrados\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n    \r\n            tablaRegistradosData = $('#tablaRegistrados').DataTable({\r\n                ajax: '/api/registrados',\r\n                \"deferRender\":true,\r\n                \"retrieve\":true,\r\n                \"proccesing\":true,\r\n                responsive:true\r\n            });\r\n            // $.ajax({\r\n            //     url:'/api/registrados',\r\n            //     success:function(req){\r\n            //         console.log(req)\r\n            //     },\r\n            //     error:function(error){\r\n            //         console.log(error.responseText);\r\n            //     }\r\n                \r\n            // })\r\n        }\r\n\r\n     async function downloadUsersXlsx(){\r\n\r\n       \r\n        const url = `/api/registrados/download`;\r\n\r\n        try {\r\n            \r\n            const respuesta = await fetch(url)\r\n          \r\n           \r\n            const resultado = await respuesta.json();\r\n\r\n            console.log(resultado)\r\n\r\n\r\n   // Crear un nuevo libro de Excel\r\n   var workbook = XLSX.utils.book_new();\r\n        \r\n   // Convertir el JSON en una hoja de Excel\r\n   var worksheet = XLSX.utils.json_to_sheet(resultado);\r\n\r\n   // Agregar la hoja de Excel al libro\r\n   XLSX.utils.book_append_sheet(workbook, worksheet, \"Datos\");\r\n\r\n   // Guardar el libro como un archivo XLSX\r\n   XLSX.writeFile(workbook, \"registrados.xlsx\");\r\n        \r\n          \r\n            // tablaRegistradosData.ajax.reload(); \r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n\r\n \r\n            // var jsonData = [\r\n            //     { Nombre: \"Juan\", Apellido: \"P√©rez\", Edad: 30 },\r\n            //     { Nombre: \"Mar√≠a\", Apellido: \"G√≥mez\", Edad: 25 },\r\n            //     { Nombre: \"Carlos\", Apellido: \"L√≥pez\", Edad: 35 }\r\n            // ];\r\n        \r\n         \r\n        }\r\n        \r\n    }\r\n})();","\r\n\r\n(function(){\r\n  \r\n    const contenedorPagado = document.querySelector('#pagos');\r\n    if(contenedorPagado){\r\n            let control = true;\r\n            const urlActual = new URL(window.location);\r\n            const params = new URLSearchParams(urlActual.search);\r\n            const id = params.get('id');\r\n            const nombreCliente = document.querySelector('#cliente')\r\n            const actions = document.querySelector('#actions');\r\n            // actions.addEventListener('click',function(e){\r\n           \r\n            //     if(e.target.id=='btnPagar'){\r\n            //        const swal =  document.querySelector('.swal2-confirm')\r\n\r\n            //        swal.addEventListener('click',function(){\r\n            //             setTimeout(()=>{\r\n                         \r\n            //                 consultarPagos();\r\n            //             },2000)\r\n            //        })\r\n            //     }\r\n            // })\r\n\r\n           const body  =  document.querySelector('body');\r\n           body.addEventListener('click',function(){\r\n                const inputHidden = document.querySelector('#confirmacionPago')\r\n                if(inputHidden){\r\n                    consultarPagos();\r\n                  \r\n                }\r\n           })\r\n\r\n            \r\n           \r\n           \r\n            consultarPagos();\r\n    \r\n            \r\n      \r\n            async function consultarPagos(){\r\n                if(document.querySelector('#confirmacionPago')){\r\n                    document.querySelector('#confirmacionPago').remove()\r\n                }\r\n                \r\n            \r\n\r\n                const datos = new FormData();\r\n                datos.append('id',id);\r\n                \r\n                try {\r\n                    //const url = 'http://localhost:3000/api/pagos'//desarrollo \r\n                    const url = '/api/pagos' //produccion\r\n                    const respuesta = await fetch(url, {\r\n                        method:'POST',\r\n                        body: datos\r\n                    });\r\n                    const pagos = await respuesta.json();\r\n                    \r\n                    if(pagos){\r\n                        \r\n                        imprimirResultados(pagos);\r\n                    }\r\n                                  \r\n                } catch (error) {\r\n                    console.log(error)\r\n                }\r\n            }\r\n\r\n            function imprimirResultados(pagos){\r\n\r\n                while(contenedorPagado.firstChild){\r\n                    contenedorPagado.removeChild(contenedorPagado.firstChild);\r\n                }\r\n             \r\n                const tabla = document.createElement('TABLE');\r\n                tabla.classList.add('table');\r\n\r\n                pagos.forEach(pago => {\r\n  \r\n                    const {id, numero_factura, fecha_pago, periodo_fin, periodo_inicio, monto, numero_pago, estado} = pago\r\n                    const tr = document.createElement('TR');\r\n                    tr.classList.add('table__tr')\r\n                    // tr.dataset.facturaId = id;\r\n                    tr.onclick = function(e){\r\n                        seleccionarPago(e);\r\n                        informacionPago(pago);\r\n                    }\r\n\r\n                    const tdNumeroFactura = document.createElement('TD');\r\n                    tdNumeroFactura.classList.add('table__td');\r\n                    tdNumeroFactura.textContent = `#${numero_factura}`\r\n\r\n                    const tdFechaPago = document.createElement('TD');\r\n                    tdFechaPago.classList.add('table__td');\r\n                    tdFechaPago.innerHTML = `<span class=\"table__span\">Fecha de Pago:&nbsp; </span>&nbsp; ${fecha_pago}`;\r\n\r\n                    const tdPeriodo = document.createElement('TD');\r\n                    tdPeriodo.classList.add('table__td');\r\n                    tdPeriodo.innerHTML = `<span class=\"table__span\">Periodo:&nbsp; </span>&nbsp; ${periodo_inicio} &nbsp; - &nbsp;${periodo_fin}`\r\n\r\n                    const tdMonto = document.createElement('TD');\r\n                    tdMonto.classList.add('table__td');\r\n                    tdMonto.innerHTML = ` <span class=\"table__span\">Monto:&nbsp; </span>$ ${monto}`\r\n\r\n                    const tdNumeroPago = document.createElement('TD');\r\n                    tdNumeroPago.classList.add('table__td');\r\n                    tdNumeroPago.innerHTML = ` <span class=\"table__span\">Pago #&nbsp; </span> ${numero_pago}`\r\n\r\n                    \r\n\r\n                   \r\n\r\n                \r\n\r\n                    tr.appendChild(tdNumeroFactura)\r\n                    tr.appendChild(tdFechaPago)\r\n                    tr.appendChild(tdPeriodo)\r\n                    tr.appendChild(tdMonto)\r\n                    tr.appendChild(tdNumeroPago)\r\n                    if(estado==0){\r\n                      \r\n                        const tdPagoAnulado = document.createElement('TD');\r\n                        tdPagoAnulado.classList.add('table__td');\r\n                        tdPagoAnulado.innerHTML = `<span class=\"table__boton table__boton--vencida\">Anulado</span>`\r\n                        tr.appendChild(tdPagoAnulado);\r\n                    }\r\n                    tabla.appendChild(tr);\r\n\r\n\r\n                });\r\n                \r\n                \r\n                \r\n                \r\n                contenedorPagado.appendChild(tabla)\r\n\r\n            }\r\n\r\n            function informacionPago(pago){\r\n                const {id, numero_factura,numero_pago, estrato, metodo, periodo_inicio, periodo_fin, monto, recaudador, factura_id} = pago;\r\n               \r\n                limpiarHtml();\r\n                const acciones = document.querySelector('#payments')\r\n              \r\n\r\n                const accionesContenedor = document.createElement('DIV');\r\n                accionesContenedor.classList.add('actions__contenedor')\r\n              \r\n              \r\n                const accionesInfo = document.createElement('DIV');\r\n                accionesInfo.classList.add('actions__info');\r\n\r\n                /* cliente */\r\n\r\n                // const accionesCliente = document.createElement('DIV');\r\n                // accionesCliente.classList.add('registrado__datos');\r\n\r\n                // const clienteLabel = document.createElement('SPAN');\r\n                // clienteLabel.classList.add('registrado__label');\r\n                // clienteLabel.textContent = 'Cliente'\r\n                \r\n                // const clienteDato = document.createElement('P');\r\n                // clienteDato.classList.add('registrado__dato');\r\n                // clienteDato.textContent = nombreCliente.textContent\r\n                \r\n                /* estrato */\r\n\r\n                \r\n                \r\n                const accionesRecaudador = document.createElement('DIV');\r\n                accionesRecaudador.classList.add('registrado__datos');\r\n\r\n                \r\n                const recaudadorLabel = document.createElement('SPAN');\r\n                recaudadorLabel.classList.add('registrado__label');\r\n                recaudadorLabel.textContent = 'Recaudador'\r\n                \r\n                const recaudadorDato = document.createElement('P');\r\n                recaudadorDato.classList.add('registrado__dato');\r\n                recaudadorDato.textContent = recaudador\r\n\r\n                /* Periodo */\r\n\r\n                const accionesPeriodo = document.createElement('DIV');\r\n                accionesPeriodo.classList.add('registrado__datos');\r\n\r\n                \r\n                const periodoLabel = document.createElement('SPAN');\r\n                periodoLabel.classList.add('registrado__label');\r\n                periodoLabel.textContent = 'Periodo'\r\n                \r\n                const periodoDato = document.createElement('P');\r\n                periodoDato.classList.add('registrado__dato');\r\n                \r\n                periodoDato.innerHTML = `${periodo_inicio} &nbsp;- &nbsp;  ${periodo_fin}`\r\n\r\n                /* Monto */\r\n\r\n                const accionesMonto = document.createElement('DIV');\r\n                accionesMonto.classList.add('registrado__datos');\r\n\r\n                \r\n                const montoLabel = document.createElement('SPAN');\r\n                montoLabel.classList.add('registrado__label');\r\n                montoLabel.textContent = 'Monto '\r\n                \r\n                const montoDato = document.createElement('P');\r\n                montoDato.classList.add('registrado__dato');\r\n                montoDato.textContent =`$ ${monto}`;\r\n\r\n                /* comprobante */\r\n                const accionesMetodo = document.createElement('DIV');\r\n                accionesMetodo.classList.add('registrado__datos');\r\n\r\n                \r\n                const metodoLabel = document.createElement('SPAN');\r\n                metodoLabel.classList.add('registrado__label');\r\n                metodoLabel.textContent = 'Metodo '\r\n                \r\n                const metodoDato = document.createElement('P');\r\n                metodoDato.classList.add('registrado__dato');\r\n                metodoDato.textContent =metodo == 1?'Efectivo':  'Transferencia';\r\n                \r\n\r\n                \r\n\r\n                // accionesCliente.appendChild(clienteLabel);\r\n                // accionesCliente.appendChild(clienteDato);\r\n\r\n                accionesRecaudador.appendChild(recaudadorLabel);\r\n                accionesRecaudador.appendChild(recaudadorDato);\r\n                \r\n                accionesPeriodo.appendChild(periodoLabel);\r\n                accionesPeriodo.appendChild(periodoDato);\r\n\r\n                accionesMonto.appendChild(montoLabel);\r\n                accionesMonto.appendChild(montoDato);\r\n\r\n                accionesMetodo.appendChild(metodoLabel);\r\n                accionesMetodo.appendChild(metodoDato);\r\n    \r\n                // accionesContenedor.appendChild(accionesCliente);\r\n                accionesContenedor.appendChild(accionesRecaudador);\r\n                accionesContenedor.appendChild(accionesPeriodo);\r\n                accionesContenedor.appendChild(accionesMonto);\r\n                accionesContenedor.appendChild(accionesMetodo);\r\n\r\n                acciones.appendChild(accionesContenedor)\r\n\r\n                //Botones \r\n                const botonesContenedor = document.createElement('DIV');\r\n                botonesContenedor.classList.add('actions__botones');\r\n\r\n                const btnVerFactura =  document.createElement('SPAN');\r\n                btnVerFactura.classList.add('actions__boton');\r\n\r\n                btnVerFactura.onclick = function(){\r\n                    previsualizarComprobante(factura_id);\r\n                }\r\n                btnVerFactura.textContent = 'Previzualizar';\r\n\r\n                botonesContenedor.appendChild(btnVerFactura);\r\n\r\n              \r\n                acciones.appendChild(botonesContenedor);\r\n\r\n            }\r\n\r\n            async function previsualizarComprobante(factura_id){\r\n               \r\n\r\n                const url =`/api/previsualizar-pago?key=${btoa(factura_id)}`;\r\n                // Abre la URL en una nueva pesta√±a\r\n                window.open(url, '_blank');\r\n\r\n              \r\n            }\r\n\r\n           \r\n            async function enviarInformacionPagar(id){\r\n                const url =  '/api/pagar';\r\n                const datos = new FormData();\r\n                datos.append('id',id);\r\n                try {\r\n                    const respuesta = await fetch(url,{\r\n                        body:datos,\r\n                        method:'POST'\r\n                    })\r\n                    const resultado = await respuesta.json();\r\n                 \r\n                    if(resultado.tipo == 'error'){\r\n                        Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Oops',\r\n                            text: resultado.mensaje\r\n                          })\r\n                    }else{\r\n                        Swal.fire({\r\n                            icon: 'success',\r\n                          \r\n                            text: resultado.mensaje\r\n                          })\r\n                        while(contenedorPagado.firstChild){\r\n                            contenedorPagado.removeChild(contenedorPagado.firstChild);\r\n                        }\r\n                       \r\n                     \r\n                      \r\n                        consultarPagos();\r\n                    }\r\n                } catch (error) {\r\n                    \r\n                }\r\n            }\r\n\r\n   \r\n          \r\n\r\n\r\n\r\n            function seleccionarPago(e){\r\n                \r\n                const seleccionAnterior =  document.querySelector('.table__seleccion');\r\n                if(seleccionAnterior){\r\n                    seleccionAnterior.classList.remove('table__seleccion')\r\n                }\r\n                const facturaSeleccionada  =e.currentTarget;\r\n                facturaSeleccionada.classList.add('table__seleccion');\r\n            }\r\n\r\n   \r\n\r\n            function limpiarHtml(){\r\n                const acciones = document.querySelector('#payments')\r\n                while(acciones.firstChild){\r\n                    acciones.removeChild(acciones.firstChild);\r\n                }\r\n            }\r\n\r\n\r\n\r\n     }\r\n    \r\n\r\n})();\r\n\r\n","(function () {\r\n\r\n    const tablaBancos = document.querySelector('#tablaBancos');\r\n\r\n    if (tablaBancos) {\r\n\r\n        let tablaBancosData;\r\n\r\n        // ============================\r\n        // INIT DATATABLE\r\n        // ============================\r\n        mostrarBancos();\r\n        verificarCargaTabla();\r\n\r\n        function verificarCargaTabla() {\r\n            tablaBancosData.on('draw', eventosClickEliminar);\r\n        }\r\n\r\n        function eventosClickEliminar() {\r\n            const btnEliminar = document.querySelectorAll('#btn_eliminar_banco');\r\n\r\n            btnEliminar.forEach(btn => {\r\n                btn.addEventListener('click', function (e) {\r\n                    leerAccion(e);\r\n                })\r\n            })\r\n        }\r\n\r\n        function leerAccion(e) {\r\n            if (e.currentTarget.id === 'btn_eliminar_banco') {\r\n                eliminarBanco(e);\r\n            }\r\n        }\r\n\r\n        // ============================\r\n        // ELIMINAR\r\n        // ============================\r\n        function eliminarBanco(e) {\r\n\r\n            const nombre = e.currentTarget\r\n                .parentNode.parentNode.parentNode\r\n                .children[1].textContent;\r\n\r\n            const id = e.currentTarget.dataset.bancoId;\r\n\r\n            Swal.fire({\r\n                title: `Eliminar banco ${nombre}?`,\r\n                text: 'Esta acci√≥n no se puede deshacer',\r\n                icon: 'question',\r\n                showDenyButton: true,\r\n                confirmButtonText: 'Aceptar',\r\n                denyButtonText: `Cancelar`,\r\n            }).then((result) => {\r\n                if (result.isConfirmed) {\r\n                    enviarInformacionEliminar(id);\r\n                }\r\n            });\r\n        }\r\n\r\n        async function enviarInformacionEliminar(id) {\r\n\r\n            const url = `/api/contabilidad/bancos/eliminar?id=${id}`;\r\n\r\n            try {\r\n                const respuesta = await fetch(url);\r\n                const resultado = await respuesta.json();\r\n\r\n                if (resultado.tipo === 'error') {\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: resultado.mensaje,\r\n                    });\r\n                    return;\r\n                }\r\n\r\n                Swal.fire({\r\n                    icon: 'success',\r\n                    text: resultado.mensaje,\r\n                });\r\n\r\n                tablaBancosData.ajax.reload();\r\n\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n\r\n        // ============================\r\n        // DATATABLE\r\n        // ============================\r\n        function mostrarBancos() {\r\n\r\n            $(\"#tablaBancos\").dataTable().fnDestroy();\r\n\r\n            tablaBancosData = $('#tablaBancos').DataTable({\r\n                ajax: '/api/contabilidad/bancos',\r\n                deferRender: true,\r\n                retrieve: true,\r\n                processing: true,\r\n                responsive: true\r\n            });\r\n        }\r\n    }\r\n\r\n})();\r\n","(function () {\r\n\r\n    const tablaCuentasBancarias = document.querySelector('#tablaCuentasBancarias');\r\n\r\n    if (tablaCuentasBancarias) {\r\n\r\n        let tablaCuentasBancariasData;\r\n\r\n        // ============================\r\n        // INIT DATATABLE\r\n        // ============================\r\n        mostrarCuentasBancarias();\r\n        verificarCargaTabla();\r\n\r\n        function verificarCargaTabla() {\r\n            tablaCuentasBancariasData.on('draw', eventosClickEliminar);\r\n        }\r\n\r\n        function eventosClickEliminar() {\r\n            const btnEliminar = document.querySelectorAll('#btn_eliminar_cuenta_bancaria');\r\n\r\n            btnEliminar.forEach(btn => {\r\n                btn.addEventListener('click', function (e) {\r\n                    leerAccion(e);\r\n                });\r\n            });\r\n        }\r\n\r\n        function leerAccion(e) {\r\n            if (e.currentTarget.id === 'btn_eliminar_cuenta_bancaria') {\r\n                eliminarCuentaBancaria(e);\r\n            }\r\n        }\r\n\r\n        // ============================\r\n        // ELIMINAR\r\n        // ============================\r\n        function eliminarCuentaBancaria(e) {\r\n\r\n            const numeroCuenta = e.currentTarget\r\n                .parentNode.parentNode.parentNode\r\n                .children[2].textContent;\r\n\r\n            const id = e.currentTarget.dataset.cuentaId;\r\n\r\n            Swal.fire({\r\n                title: `Eliminar cuenta bancaria ${numeroCuenta}?`,\r\n                text: 'Esta acci√≥n no se puede deshacer',\r\n                icon: 'question',\r\n                showDenyButton: true,\r\n                confirmButtonText: 'Aceptar',\r\n                denyButtonText: `Cancelar`,\r\n            }).then((result) => {\r\n                if (result.isConfirmed) {\r\n                    enviarInformacionEliminar(id);\r\n                }\r\n            });\r\n        }\r\n\r\n        async function enviarInformacionEliminar(id) {\r\n\r\n            const url = `/api/contabilidad/cuentas_bancarias/eliminar?id=${id}`;\r\n\r\n            try {\r\n                const respuesta = await fetch(url);\r\n                const resultado = await respuesta.json();\r\n\r\n                if (resultado.tipo === 'error') {\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: resultado.mensaje,\r\n                    });\r\n                    return;\r\n                }\r\n\r\n                Swal.fire({\r\n                    icon: 'success',\r\n                    text: resultado.mensaje,\r\n                });\r\n\r\n                tablaCuentasBancariasData.ajax.reload();\r\n\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n\r\n        // ============================\r\n        // DATATABLE\r\n        // ============================\r\n        function mostrarCuentasBancarias() {\r\n\r\n            $(\"#tablaCuentasBancarias\").dataTable().fnDestroy();\r\n\r\n            tablaCuentasBancariasData = $('#tablaCuentasBancarias').DataTable({\r\n                ajax: '/api/contabilidad/cuentas-bancarias',\r\n                deferRender: true,\r\n                retrieve: true,\r\n                processing: true,\r\n                responsive: true\r\n            });\r\n        }\r\n    }\r\n\r\n})();\r\n","(function () {\r\n\r\n    const movimientos = document.querySelector('#movimientosCuenta');\r\n    if (!movimientos) return;\r\n\r\n    const cuentaId = movimientos.dataset.cuentaId;\r\n\r\n    const inputFechaInicio = document.querySelector('#fecha_inicio');\r\n    const inputFechaFin = document.querySelector('#fecha_fin');\r\n    const btnFiltrar = document.querySelector('#btnFiltrarMovimientos');\r\n\r\n    // =========================\r\n    // TABS\r\n    // =========================\r\n\r\n    const tabButtons = document.querySelectorAll('.tab-btn');\r\n    const tabContents = document.querySelectorAll('.tab-content');\r\n\r\n    tabButtons.forEach(btn => {\r\n        btn.addEventListener('click', function () {\r\n\r\n            tabButtons.forEach(b => b.classList.remove('active'));\r\n            tabContents.forEach(c => c.classList.remove('active'));\r\n\r\n            this.classList.add('active');\r\n            document.getElementById(this.dataset.tab).classList.add('active');\r\n\r\n        });\r\n    });\r\n\r\n    // =========================\r\n    // DATA TABLES\r\n    // =========================\r\n\r\n    const tablaConsignaciones = $('#tablaConsignacionesMov').DataTable({\r\n        ajax: {\r\n            url: '/api/contabilidad/movimientos/consignaciones',\r\n            data: function (d) {\r\n                d.cuenta_id = cuentaId;\r\n                d.fecha_inicio = inputFechaInicio.value;\r\n                d.fecha_fin = inputFechaFin.value;\r\n            }\r\n        },\r\n        processing: true,\r\n        responsive: true,\r\n        destroy: true\r\n    });\r\n\r\n    const tablaEgresos = $('#tablaEgresosMov').DataTable({\r\n        ajax: {\r\n            url: '/api/contabilidad/movimientos/egresos',\r\n            data: function (d) {\r\n                d.cuenta_id = cuentaId;\r\n                d.fecha_inicio = inputFechaInicio.value;\r\n                d.fecha_fin = inputFechaFin.value;\r\n            }\r\n        },\r\n        processing: true,\r\n        responsive: true,\r\n        destroy: true\r\n    });\r\n\r\n    const tablaEgresosSimples = $('#tablaEgresosSimplesMov').DataTable({\r\n        ajax: {\r\n            url: '/api/contabilidad/movimientos/egresos-simples',\r\n            data: function (d) {\r\n                d.cuenta_id = cuentaId;\r\n                d.fecha_inicio = inputFechaInicio.value;\r\n                d.fecha_fin = inputFechaFin.value;\r\n            }\r\n        },\r\n        processing: true,\r\n        responsive: true,\r\n        destroy: true\r\n    });\r\n\r\n    // =========================\r\n    // RECARGAR AL FILTRAR\r\n    // =========================\r\n\r\n    btnFiltrar.addEventListener('click', function () {\r\n\r\n        tablaConsignaciones.ajax.reload();\r\n        tablaEgresos.ajax.reload();\r\n        tablaEgresosSimples.ajax.reload();\r\n\r\n    });\r\n\r\n})();\r\n","(function () {\r\n\r\n    const tablaConsignaciones = document.querySelector('#tablaConsignaciones');\r\n\r\n    if (tablaConsignaciones) {\r\n\r\n        let tablaConsignacionesData;\r\n\r\n        // ============================\r\n        // INIT DATATABLE\r\n        // ============================\r\n        mostrarConsignaciones();\r\n        verificarCargaTabla();\r\n\r\n        function verificarCargaTabla() {\r\n            tablaConsignacionesData.on('draw', eventosClickAnular);\r\n        }\r\n\r\n        function eventosClickAnular() {\r\n\r\n            const btnAnular = document.querySelectorAll('#btn_anular_consignacion');\r\n\r\n            btnAnular.forEach(btn => {\r\n                btn.addEventListener('click', function (e) {\r\n                    anularConsignacion(e);\r\n                });\r\n            });\r\n        }\r\n\r\n        // ============================\r\n        // ANULAR\r\n        // ============================\r\n        function anularConsignacion(e) {\r\n\r\n            const fila = e.currentTarget\r\n                .parentNode.parentNode.parentNode;\r\n\r\n            const fecha = fila.children[1].textContent;\r\n            const id = e.currentTarget.dataset.consignacionId;\r\n\r\n            // üîπ PRIMER SWAL\r\n            Swal.fire({\r\n                title: `¬øDesea anular la consignaci√≥n del ${fecha}?`,\r\n                text: 'Esta acci√≥n no se puede deshacer',\r\n                icon: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonText: 'Proceder',\r\n                cancelButtonText: 'Cancelar'\r\n            }).then((result) => {\r\n\r\n                if (result.isConfirmed) {\r\n\r\n                    // üîπ SEGUNDO SWAL (RAZ√ìN OBLIGATORIA)\r\n                    Swal.fire({\r\n                        title: 'Raz√≥n de anulaci√≥n',\r\n                        input: 'textarea',\r\n                        inputLabel: 'Ingrese la raz√≥n',\r\n                        inputPlaceholder: 'Escriba la raz√≥n...',\r\n                        showCancelButton: true,\r\n                        confirmButtonText: 'Anular',\r\n                        cancelButtonText: 'Cancelar',\r\n                        inputValidator: (value) => {\r\n                            if (!value) {\r\n                                return 'La raz√≥n de anulaci√≥n es obligatoria';\r\n                            }\r\n                        }\r\n                    }).then((resultRazon) => {\r\n\r\n                        if (resultRazon.isConfirmed) {\r\n                            enviarAnulacion(id, resultRazon.value);\r\n                        }\r\n\r\n                    });\r\n\r\n                }\r\n\r\n            });\r\n        }\r\n\r\n        async function enviarAnulacion(id, razon) {\r\n\r\n            const url = `/api/contabilidad/consignaciones/anular`;\r\n\r\n            try {\r\n\r\n                const respuesta = await fetch(url, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    },\r\n                    body: JSON.stringify({\r\n                        id: id,\r\n                        razon_anulacion: razon\r\n                    })\r\n                });\r\n\r\n                const resultado = await respuesta.json();\r\n\r\n                if (resultado.tipo === 'error') {\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: resultado.mensaje,\r\n                    });\r\n                    return;\r\n                }\r\n\r\n                Swal.fire({\r\n                    icon: 'success',\r\n                    text: resultado.mensaje,\r\n                });\r\n\r\n                tablaConsignacionesData.ajax.reload();\r\n\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n\r\n        // ============================\r\n        // DATATABLE\r\n        // ============================\r\n        function mostrarConsignaciones() {\r\n\r\n            $(\"#tablaConsignaciones\").dataTable().fnDestroy();\r\n\r\n            tablaConsignacionesData = $('#tablaConsignaciones').DataTable({\r\n                ajax: '/api/contabilidad/consignaciones',\r\n                deferRender: true,\r\n                retrieve: true,\r\n                processing: true,\r\n                responsive: true\r\n            });\r\n        }\r\n    }\r\n\r\n})();\r\n","(function () {\r\n\r\n    const tablaCuentas = document.querySelector('#tablaCuentas');\r\n\r\n    if (tablaCuentas) {\r\n\r\n        let tablaCuentasData;\r\n\r\n        // ============================\r\n        // INIT DATATABLE\r\n        // ============================\r\n        mostrarCuentas();\r\n        verificarCargaTabla();\r\n\r\n        function verificarCargaTabla() {\r\n            tablaCuentasData.on('draw', eventosClickEliminar);\r\n        }\r\n\r\n        function eventosClickEliminar() {\r\n            const btnEliminar = document.querySelectorAll('#btn_eliminar_cuenta');\r\n\r\n            btnEliminar.forEach(btn => {\r\n                btn.addEventListener('click', function (e) {\r\n                    leerAccion(e);\r\n                })\r\n            })\r\n        }\r\n\r\n        function leerAccion(e) {\r\n            if (e.currentTarget.id === 'btn_eliminar_cuenta') {\r\n                eliminarCuenta(e);\r\n            }\r\n        }\r\n\r\n        // ============================\r\n        // ELIMINAR\r\n        // ============================\r\n        function eliminarCuenta(e) {\r\n\r\n            const nombre = e.currentTarget\r\n                .parentNode.parentNode.parentNode\r\n                .children[2].textContent;\r\n\r\n            const id = e.currentTarget.dataset.cuentaId;\r\n\r\n            Swal.fire({\r\n                title: `Eliminar cuenta ${nombre}?`,\r\n                text: 'Esta acci√≥n no se puede deshacer',\r\n                icon: 'question',\r\n                showDenyButton: true,\r\n                confirmButtonText: 'Aceptar',\r\n                denyButtonText: `Cancelar`,\r\n            }).then((result) => {\r\n                if (result.isConfirmed) {\r\n                    enviarInformacionEliminar(id);\r\n                }\r\n            });\r\n        }\r\n\r\n        async function enviarInformacionEliminar(id) {\r\n\r\n            const url = `/api/contabilidad/cuentas/eliminar?id=${id}`;\r\n\r\n            try {\r\n                const respuesta = await fetch(url);\r\n                const resultado = await respuesta.json();\r\n\r\n                if (resultado.tipo === 'error') {\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: resultado.mensaje,\r\n                    });\r\n                    return;\r\n                }\r\n\r\n                Swal.fire({\r\n                    icon: 'success',\r\n                    text: resultado.mensaje,\r\n                });\r\n\r\n                tablaCuentasData.ajax.reload();\r\n\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n\r\n        // ============================\r\n        // DATATABLE\r\n        // ============================\r\n        function mostrarCuentas() {\r\n\r\n            $(\"#tablaCuentas\").dataTable().fnDestroy();\r\n\r\n            tablaCuentasData = $('#tablaCuentas').DataTable({\r\n                ajax: '/api/contabilidad/cuentas',\r\n                deferRender: true,\r\n                retrieve: true,\r\n                processing: true,\r\n                responsive: true\r\n            });\r\n        }\r\n    }\r\n\r\n})();\r\n","(function(){\r\n\r\n    const form = document.querySelector('.js-egreso-form');\r\n    if(!form) return;\r\n\r\n    const tbody = form.querySelector('#js-lineas-egreso');\r\n    const btnAgregar = form.querySelector('.js-agregar-linea');\r\n    const selectBase = form.querySelector('.js-cuenta-select');\r\n\r\n    if(!tbody || !btnAgregar || !selectBase) return;\r\n\r\n    let contador = tbody.querySelectorAll('tr').length;\r\n    const opcionesHTML = selectBase.innerHTML;\r\n\r\n    // ===============================\r\n    // AGREGAR LINEA\r\n    // ===============================\r\n    btnAgregar.addEventListener('click', function(){\r\n\r\n        const fila = document.createElement('tr');\r\n\r\n        fila.innerHTML = `\r\n            <td>\r\n                <select name=\"cuentas[${contador}][cuenta_id]\" class=\"formulario__select\">\r\n                    ${opcionesHTML}\r\n                </select>\r\n            </td>\r\n            <td>\r\n                <input type=\"text\" name=\"cuentas[${contador}][debito]\" class=\"formulario__input js-debito\">\r\n            </td>\r\n            <td>\r\n                <input type=\"text\" name=\"cuentas[${contador}][credito]\" class=\"formulario__input js-credito\">\r\n            </td>\r\n            <td>\r\n                <button type=\"button\" class=\"btnEliminarLinea\">X</button>\r\n            </td>\r\n        `;\r\n\r\n        tbody.appendChild(fila);\r\n        contador++;\r\n    });\r\n\r\n    // ===============================\r\n    // ELIMINAR LINEA\r\n    // ===============================\r\n    form.addEventListener('click', function(e){\r\n\r\n        if(e.target.classList.contains('btnEliminarLinea')){\r\n\r\n            const filas = tbody.querySelectorAll('tr');\r\n\r\n            if(filas.length <= 1){\r\n                return;\r\n            }\r\n\r\n            e.target.closest('tr').remove();\r\n            recalcularIndices();\r\n            calcularTotales();\r\n        }\r\n    });\r\n\r\n    // ===============================\r\n    // RECALCULAR INDICES\r\n    // ===============================\r\n    function recalcularIndices(){\r\n\r\n        const filas = tbody.querySelectorAll('tr');\r\n\r\n        filas.forEach((fila, index) => {\r\n\r\n            fila.querySelectorAll('select, input').forEach(input => {\r\n\r\n                const name = input.getAttribute('name');\r\n\r\n                if(name){\r\n                    const nuevoName = name.replace(/cuentas\\[\\d+\\]/, `cuentas[${index}]`);\r\n                    input.setAttribute('name', nuevoName);\r\n                }\r\n\r\n            });\r\n\r\n        });\r\n\r\n        contador = filas.length;\r\n    }\r\n\r\n    // ===============================\r\n    // CALCULAR TOTALES\r\n    // ===============================\r\n    form.addEventListener('input', function(e){\r\n\r\n        if(e.target.classList.contains('js-debito') ||\r\n           e.target.classList.contains('js-credito')){\r\n            calcularTotales();\r\n        }\r\n    });\r\n\r\n    function calcularTotales(){\r\n\r\n        let totalDebito = 0;\r\n        let totalCredito = 0;\r\n\r\n        form.querySelectorAll('.js-debito').forEach(input => {\r\n            totalDebito += parseFloat(input.value) || 0;\r\n        });\r\n\r\n        form.querySelectorAll('.js-credito').forEach(input => {\r\n            totalCredito += parseFloat(input.value) || 0;\r\n        });\r\n\r\n        const spanDebito = form.querySelector('#js-total-debito');\r\n        const spanCredito = form.querySelector('#js-total-credito');\r\n\r\n        spanDebito.textContent = totalDebito.toFixed(2);\r\n        spanCredito.textContent = totalCredito.toFixed(2);\r\n\r\n        // Indicador visual si no cuadra\r\n        if(totalDebito !== totalCredito){\r\n            spanDebito.style.color = 'red';\r\n            spanCredito.style.color = 'red';\r\n        } else {\r\n            spanDebito.style.color = 'green';\r\n            spanCredito.style.color = 'green';\r\n        }\r\n    }\r\n\r\n    // üî• IMPORTANTE: recalcular al cargar\r\n    calcularTotales();\r\n\r\n})();\r\n","(function () {\r\n\r\n    const tablaEgresos = document.querySelector('#tablaEgresos');\r\n\r\n    if (tablaEgresos) {\r\n\r\n        let tablaEgresosData;\r\n\r\n        // ============================\r\n        // INIT DATATABLE\r\n        // ============================\r\n        mostrarEgresos();\r\n        verificarCargaTabla();\r\n\r\n        function verificarCargaTabla() {\r\n            tablaEgresosData.on('draw', eventosClickEliminar);\r\n        }\r\n\r\n        function eventosClickEliminar() {\r\n            const btnEliminar = document.querySelectorAll('#btn_eliminar_egreso');\r\n\r\n            btnEliminar.forEach(btn => {\r\n                btn.addEventListener('click', function (e) {\r\n                    leerAccion(e);\r\n                });\r\n            });\r\n        }\r\n\r\n        function leerAccion(e) {\r\n            if (e.currentTarget.id === 'btn_eliminar_egreso') {\r\n                eliminarEgreso(e);\r\n            }\r\n        }\r\n\r\n        // ============================\r\n        // ELIMINAR\r\n        // ============================\r\n        function eliminarEgreso(e) {\r\n\r\n            const fila = e.currentTarget\r\n                .parentNode.parentNode.parentNode;\r\n\r\n            const consecutivo = fila.children[1].textContent;\r\n            const id = e.currentTarget.dataset.egresoId;\r\n\r\n            // üîπ PRIMER SWAL (Confirmaci√≥n)\r\n            Swal.fire({\r\n                title: `¬øDesea anular el egreso ${consecutivo}?`,\r\n                text: 'Esta acci√≥n no se puede deshacer',\r\n                icon: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonText: 'Proceder',\r\n                cancelButtonText: 'Cancelar'\r\n            }).then((result) => {\r\n\r\n                if (result.isConfirmed) {\r\n\r\n                    // üîπ SEGUNDO SWAL (Raz√≥n obligatoria)\r\n                    Swal.fire({\r\n                        title: 'Raz√≥n de anulaci√≥n',\r\n                        input: 'textarea',\r\n                        inputLabel: 'Ingrese la raz√≥n',\r\n                        inputPlaceholder: 'Escriba la raz√≥n...',\r\n                        showCancelButton: true,\r\n                        confirmButtonText: 'Anular',\r\n                        cancelButtonText: 'Cancelar',\r\n                        inputValidator: (value) => {\r\n                            if (!value) {\r\n                                return 'La raz√≥n de anulaci√≥n es obligatoria';\r\n                            }\r\n                        }\r\n                    }).then((resultRazon) => {\r\n                    \r\n                        if (resultRazon.isConfirmed) {\r\n                            enviarAnulacion(id, resultRazon.value);\r\n                        }\r\n\r\n                    });\r\n\r\n                }\r\n\r\n            });\r\n        }\r\n\r\n\r\n        async function enviarAnulacion(id, razon) {\r\n\r\n            const url = `/api/contabilidad/egresos/anular`;\r\n\r\n            try {\r\n\r\n\r\n                const respuesta = await fetch(url, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    },\r\n                    body: JSON.stringify({\r\n                        id: id,\r\n                        razon_anulacion: razon\r\n                    })\r\n                });\r\n\r\n             \r\n                  \r\n\r\n                const resultado = await respuesta.json();\r\n         \r\n                if (resultado.tipo === 'error') {\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: resultado.mensaje,\r\n                    });\r\n                    return;\r\n                }\r\n\r\n                Swal.fire({\r\n                    icon: 'success',\r\n                    text: resultado.mensaje,\r\n                });\r\n\r\n                tablaEgresosData.ajax.reload();\r\n\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n\r\n\r\n        // ============================\r\n        // DATATABLE\r\n        // ============================\r\n        function mostrarEgresos() {\r\n\r\n            $(\"#tablaEgresos\").dataTable().fnDestroy();\r\n\r\n            tablaEgresosData = $('#tablaEgresos').DataTable({\r\n                ajax: '/api/contabilidad/egresos',\r\n                deferRender: true,\r\n                retrieve: true,\r\n                processing: true,\r\n                responsive: true\r\n            });\r\n        }\r\n    }\r\n\r\n})();\r\n","(function () {\r\n\r\n    const tablaTerceros = document.querySelector('#tablaTerceros');\r\n\r\n    if (tablaTerceros) {\r\n\r\n        let tablaTercerosData;\r\n\r\n        // ============================\r\n        // INIT DATATABLE\r\n        // ============================\r\n        mostrarTerceros();\r\n        verificarCargaTabla();\r\n\r\n        function verificarCargaTabla() {\r\n            tablaTercerosData.on('draw', eventosClickEliminar);\r\n        }\r\n\r\n        function eventosClickEliminar() {\r\n            const btnEliminar = document.querySelectorAll('#btn_eliminar_tercero');\r\n\r\n            btnEliminar.forEach(btn => {\r\n                btn.addEventListener('click', function (e) {\r\n                    leerAccion(e);\r\n                })\r\n            })\r\n        }\r\n\r\n        function leerAccion(e) {\r\n            if (e.currentTarget.id === 'btn_eliminar_tercero') {\r\n                eliminarTercero(e);\r\n            }\r\n        }\r\n\r\n        // ============================\r\n        // ELIMINAR\r\n        // ============================\r\n        function eliminarTercero(e) {\r\n\r\n            const nombre = e.currentTarget\r\n                .parentNode.parentNode.parentNode\r\n                .children[2].textContent;\r\n\r\n            const id = e.currentTarget.dataset.terceroId;\r\n\r\n            Swal.fire({\r\n                title: `Eliminar tercero ${nombre}?`,\r\n                text: 'Esta accion no se puede deshacer',\r\n                icon: 'question',\r\n                showDenyButton: true,\r\n                confirmButtonText: 'Aceptar',\r\n                denyButtonText: `Cancelar`,\r\n            }).then((result) => {\r\n                if (result.isConfirmed) {\r\n                    enviarInformacionEliminar(id);\r\n                }\r\n            });\r\n        }\r\n\r\n        async function enviarInformacionEliminar(id) {\r\n\r\n            const url = `/api/contabilidad/terceros/eliminar?id=${id}`;\r\n\r\n            try {\r\n                const respuesta = await fetch(url);\r\n                const resultado = await respuesta.json();\r\n\r\n                if (resultado.tipo === 'error') {\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: resultado.mensaje,\r\n                    });\r\n                    return;\r\n                }\r\n\r\n                Swal.fire({\r\n                    icon: 'success',\r\n                    text: resultado.mensaje,\r\n                });\r\n\r\n                tablaTercerosData.ajax.reload();\r\n\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n\r\n        // ============================\r\n        // DATATABLE\r\n        // ============================\r\n        function mostrarTerceros() {\r\n\r\n            $(\"#tablaTerceros\").dataTable().fnDestroy();\r\n\r\n            tablaTercerosData = $('#tablaTerceros').DataTable({\r\n                ajax: '/api/terceros',\r\n                deferRender: true,\r\n                retrieve: true,\r\n                processing: true,\r\n                responsive: true\r\n            });\r\n            //   $.ajax({\r\n            //     url:'/api/terceros',\r\n            //     success:function(req){\r\n            //         console.log(req)\r\n            //     },\r\n            //     error:function(error){\r\n              \r\n            //         console.log(error.responseText);\r\n            //     }\r\n                \r\n            // })\r\n        }\r\n    }\r\n\r\n})();\r\n","(function () {\r\n\r\n    const tablaEgresosSimples = document.querySelector('#tablaEgresosSimples');\r\n\r\n    if (tablaEgresosSimples) {\r\n\r\n        let tablaEgresosSimplesData;\r\n\r\n        // ============================\r\n        // INIT DATATABLE\r\n        // ============================\r\n        mostrarEgresosSimples();\r\n        verificarCargaTabla();\r\n\r\n        function verificarCargaTabla() {\r\n            tablaEgresosSimplesData.on('draw', eventosClickAnular);\r\n        }\r\n\r\n        function eventosClickAnular() {\r\n\r\n            const btnAnular = document.querySelectorAll('#btn_anular_egreso_simple');\r\n\r\n            btnAnular.forEach(btn => {\r\n                btn.addEventListener('click', function (e) {\r\n                    anularEgresoSimple(e);\r\n                });\r\n            });\r\n        }\r\n\r\n        // ============================\r\n        // ANULAR\r\n        // ============================\r\n        function anularEgresoSimple(e) {\r\n\r\n            const fila = e.currentTarget\r\n                .parentNode.parentNode.parentNode;\r\n\r\n            const fecha = fila.children[1].textContent;\r\n            const id = e.currentTarget.dataset.egresoId;\r\n\r\n            // üîπ PRIMER SWAL\r\n            Swal.fire({\r\n                title: `¬øDesea anular el egreso del ${fecha}?`,\r\n                text: 'Esta acci√≥n no se puede deshacer',\r\n                icon: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonText: 'Proceder',\r\n                cancelButtonText: 'Cancelar'\r\n            }).then((result) => {\r\n\r\n                if (result.isConfirmed) {\r\n\r\n                    // üîπ SEGUNDO SWAL (RAZ√ìN OBLIGATORIA)\r\n                    Swal.fire({\r\n                        title: 'Raz√≥n de anulaci√≥n',\r\n                        input: 'textarea',\r\n                        inputLabel: 'Ingrese la raz√≥n',\r\n                        inputPlaceholder: 'Escriba la raz√≥n...',\r\n                        showCancelButton: true,\r\n                        confirmButtonText: 'Anular',\r\n                        cancelButtonText: 'Cancelar',\r\n                        inputValidator: (value) => {\r\n                            if (!value) {\r\n                                return 'La raz√≥n de anulaci√≥n es obligatoria';\r\n                            }\r\n                        }\r\n                    }).then((resultRazon) => {\r\n\r\n                        if (resultRazon.isConfirmed) {\r\n                            enviarAnulacion(id, resultRazon.value);\r\n                        }\r\n\r\n                    });\r\n\r\n                }\r\n\r\n            });\r\n        }\r\n\r\n        async function enviarAnulacion(id, razon) {\r\n\r\n            const url = `/api/contabilidad/egresos-simples/anular`;\r\n\r\n            try {\r\n\r\n                const respuesta = await fetch(url, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    },\r\n                    body: JSON.stringify({\r\n                        id: id,\r\n                        razon_anulacion: razon\r\n                    })\r\n                });\r\n\r\n                const resultado = await respuesta.json();\r\n\r\n                if (resultado.tipo === 'error') {\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: resultado.mensaje,\r\n                    });\r\n                    return;\r\n                }\r\n\r\n                Swal.fire({\r\n                    icon: 'success',\r\n                    text: resultado.mensaje,\r\n                });\r\n\r\n                tablaEgresosSimplesData.ajax.reload();\r\n\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n\r\n        // ============================\r\n        // DATATABLE\r\n        // ============================\r\n        function mostrarEgresosSimples() {\r\n\r\n            $(\"#tablaEgresosSimples\").dataTable().fnDestroy();\r\n\r\n            tablaEgresosSimplesData = $('#tablaEgresosSimples').DataTable({\r\n                ajax: '/api/contabilidad/egresos-simples',\r\n                deferRender: true,\r\n                retrieve: true,\r\n                processing: true,\r\n                responsive: true\r\n            });\r\n        }\r\n    }\r\n\r\n})();\r\n"]}