{"version":3,"sources":["desabilitarBtnSubmit.js","redireccion.js","emitidas/index.js","estratos/crear.js","estratos/index.js","cajas/abrir.js","cajas/cajasPagos.js","cajas/index.js","registrados/facturas.js","registrados/index.js","registrados/pagos.js","pagar/index.js","pagar/pagar.js","usuarios/index.js","dashboard/facturas.js","dashboard/inicio.js"],"names":["document","querySelector","btnSubmit","addEventListener","e","setTimeout","target","disabled","classList","add","alertaExitoFormulario","formulario","style","display","remove","urlActual","window","location","href","includes","redireccionar","tablaEmitidasPendientesData","$","dataTable","fnDestroy","DataTable","ajax","deferRender","retrieve","proccesing","responsive","on","numero_factura","url","btoa","open","previsualizarFactura","this","attr","tarifaPlenaInput","porcentajeSubsidioInput","subsidioInput","copagoInput","porcentajeAcuInput","subsidioAcuInput","copagoAcuInput","totalAcuInput","porcentajeAlcInput","subsidioAlcInput","copagoAlcInput","totalAlcInput","porcentajeAseoInput","subsidioAseoInput","copagoAseoInput","totalAseoInput","ajusteInput","porcentajeAjusteInput","formaterValor","tarifa_plena","value","tarifa_plena_sin_formato","parseFloat","replace","isNaN","tarifa_plena_formateada","toLocaleString","revisarValores","calcularDatos","porcentaje","subsidioInputRef","copagoInputRef","totalInputRef","porcentaje_subsidio","insertarDatos","toFixed","calcularSubsidioCopago","subsidio","copago","referencia1","referencia2","referencia3","total","valor_subsidio","valor_copago","ajuste","valor_ajuste","porcentaje_ajuste","calcularPorcentajeAjuste","tablaEstratosData","eventosClick","querySelectorAll","forEach","btnInfo","async","currentTarget","dataset","estratoId","respuesta","fetch","resultado","json","tipo","Swal","fire","icon","title","text","mensaje","modal","createElement","innerHTML","estrato","year","facturas_vencidas","porcentaje_copago","preventDefault","contains","appendChild","mostrarInfo","error","console","log","infoEstrato","btnEliminar","eliminarEstrato","parentNode","children","textContent","id","showDenyButton","confirmButtonText","denyButtonText","then","result","isConfirmed","reload","enviarInformacionEliminar","efectivo_inicial","efectivo_inicial_sin_formato","efectivo_inicial_formateada","tablaCajasPagos","URL","URLSearchParams","search","get","Number","isInteger","parseInt","tablaCajasData","alertaCierre","datos","FormData","append","body","method","cerrarCaja","data","estadoCaja","cajaId","contenedorFactura","nombreCliente","consultarFacturas","valorDeuda","deuda","imprimirDeuda","facturas","tabla","factura","fecha_emision","periodo_fin","periodo_inicio","pagado","combinado","saldo_anterior","mesActual","Date","getMonth","arregloFecha","split","diferenciaFechas","tr","onclick","seleccionAnterior","seleccionFactura","acciones","firstChild","removeChild","limpiarHtml","accionesContenedor","accionesCliente","clienteLabel","clienteDato","accionesEstrato","estratoLabel","estratoDato","accionesPeriodo","periodoLabel","periodoDato","accionesMonto","montoLabel","montoTotal","montoDato","botonesContenedor","btnVerFactura","btnPagar","btnBanco","pagarFactura","informacionFactura","tdNumeroFactura","tdEmitida","tdPeriodo","tdMonto","tdEstado","imprimirResultados","metodo","registrado","metodoDatos","metodoLabel","metodoDato","registradoDatos","registradoLabel","registradoDato","periodoDatos","montoDatos","html","inputHidden","type","enviarInformacionPagar","tablaRegistradosData","eventosClickEditar","leerAccion","registradoId","eliminarRegistrado","contenedorPagado","consultarPagos","pagos","pago","fecha_pago","monto","numero_pago","estado","seleccionarPago","recaudador","factura_id","accionesRecaudador","recaudadorLabel","recaudadorDato","accionesMetodo","previsualizarComprobante","informacionPago","tdFechaPago","tdNumeroPago","tdPagoAnulado","tablaPagosData","previsualizarPago","anularPago","inputCodigo","contenedorFacturas","guardarPagosBtn","totalFacturas","totalRecaudo","arreglofacturas","facturaEncontrada","find","position","showConfirmButton","timer","registrado_nombre","mes_facturado","unshift","subscriptor","recaudo","cantidadFacturas","tdRegistrado","tdEstrato","tdMesFacturado","tdCopago","infoFactura","consultarFactura","length","arregloPagos","map","JSON","stringify","guardarPagos","tablaUsuarios","tablaUsuariosData","eliminarUsuario","nombre","usuarioId","estadoActual","mensajeAlerta","enviarInformacionEstado","editarEstado","btnImprimirFacturas","contenedorSwitch","btnGenerarFacturas","alertaGenerarFacturasAuto","removeEventListener","msg","generarFacturas","revisarGeneraAuto","auto","checkbox","checked","onchange","cambiarEstadoAuto","slider","generarCheckBox","eliminarFacturas","subscriptores","subscriptoresVigentes","subscriptoresInactivos","pagosVigentes","fecha","ingreso","ingresosMensuales","totalPagos","selectYear","selectMes","selectYearConsignacion","selectMesConsignacion","consignacionAseo","consignacionAlc","consignacionAcu","contenedor_estratos","btnImprimirFacturasFiltradas","leerInputs","consultarIngresosMensuales","leerInputsConsignacion","aseo","acueducto","alcantarillado","imprimirDatosConsignacion","consultarConsignaciones","consultarIngresosFecha","mostrarIngresos","registrados","registrados_activos","registrados_inactivos","pagos_vigentes","ingresos","mostrarResultados","informacionUsuario","fechaActual","toISOString","slice","origin","option","consultarEstratos"],"mappings":"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","file":"bundle.js","sourcesContent":["\r\n\r\n(function(){\r\n \r\n    const formulario =  document.querySelector('.formulario');\r\n\r\n    if(formulario){\r\n        \r\n        const btnSubmit = document.querySelector('.formulario [type=\"submit\"]');\r\n        if(btnSubmit){\r\n            btnSubmit.addEventListener('click',deshabilitarBoton);\r\n        }\r\n        \r\n       \r\n        function deshabilitarBoton(e){\r\n            setTimeout(()=>{\r\n                e.target.disabled = true;\r\n                e.target.classList.add('formulario__submit--deshabilitado');\r\n            },0)\r\n           \r\n        }\r\n    }\r\n})();","\r\n\r\n(function(){\r\n    const alertaExitoFormulario = document.querySelector('.alerta__exito');\r\n    const formulario = document.querySelector('.formulario');\r\n    if(alertaExitoFormulario){\r\n        formulario.style.display='none';\r\n        setTimeout(()=>{\r\n            alertaExitoFormulario.remove();\r\n            redireccionar();\r\n\r\n        },3000);\r\n\r\n        function redireccionar(){\r\n            const urlActual = window.location.href;\r\n            if(urlActual.includes('/admin/usuarios/')){\r\n                window.location.href = '/admin/usuarios';\r\n            }\r\n            if(urlActual.includes('/admin/estratos/')){\r\n                window.location.href = '/admin/estratos';\r\n            }\r\n            if(urlActual.includes('/admin/registrados/')){\r\n                window.location.href = '/admin/registrados';\r\n            }\r\n            if(urlActual.includes('/admin/cajas/')){\r\n                window.location.href = '/admin/cajas';\r\n            }\r\n        }\r\n    }\r\n\r\n})();\r\n\r\n\r\n\r\n  \r\n","(function(){\r\n    const emitidasPendientes = document.querySelector('#tablaEmitidasPendientes');\r\n    if(emitidasPendientes){\r\n      \r\n        let tablaEmitidasPendientesData;\r\n        mostrarEmitidasPendientes();\r\n        \r\n        $('#tablaEmitidasPendientes').on('click', '#btn_previsualizar', function(e) {\r\n            // Manejar el evento aquí\r\n       \r\n            previsualizarFactura($(this).attr('data-numero-factura'))\r\n        });\r\n        \r\n      function previsualizarFactura(numero_factura){\r\n        const url =`/api/previsualizar-factura?key=${btoa(numero_factura)}`;\r\n        // Abre la URL en una nueva pestaña\r\n        window.open(url, '_blank');\r\n      }\r\n\r\n        function mostrarEmitidasPendientes(){\r\n      \r\n            $(\"#tablaEmitidasPendientes\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n    \r\n            tablaEmitidasPendientesData = $('#tablaEmitidasPendientes').DataTable({\r\n                ajax: '/api/emitidas',\r\n                \"deferRender\":true,\r\n                \"retrieve\":true,\r\n                \"proccesing\":true,\r\n                responsive:true\r\n            });\r\n            // $.ajax({\r\n            //     url:'/api/emitidas',\r\n            //     success:function(req){\r\n            //         console.log(req)\r\n            //     },\r\n            //     error:function(error){\r\n            //         console.log(error.responseText);\r\n            //     }\r\n                \r\n            // })\r\n        }\r\n    }\r\n})();","\r\n\r\n(function(){\r\n    const estrato = document.querySelector('#estrato');\r\n    if(estrato){\r\n\r\n        /* Selectores */\r\n        const tarifaPlenaInput= document.querySelector('#tarifa_plena');\r\n        const porcentajeSubsidioInput = document.querySelector('#porcentaje_subsidio');\r\n        const subsidioInput= document.querySelector('#subsidio') ;\r\n        const copagoInput = document.querySelector('#copago')\r\n\r\n        const porcentajeAcuInput= document.querySelector('#porcentaje_acu');\r\n        const subsidioAcuInput= document.querySelector('#subsidio_acu') ;\r\n        const copagoAcuInput = document.querySelector('#copago_acu');\r\n        const totalAcuInput = document.querySelector('#tarifa_plena_acu')\r\n\r\n        const porcentajeAlcInput = document.querySelector('#porcentaje_alc');\r\n        const subsidioAlcInput= document.querySelector('#subsidio_alc') ;\r\n        const copagoAlcInput = document.querySelector('#copago_alc');\r\n        const totalAlcInput = document.querySelector('#tarifa_plena_alc')\r\n        \r\n\r\n        const porcentajeAseoInput = document.querySelector('#porcentaje_aseo');\r\n        const subsidioAseoInput= document.querySelector('#subsidio_aseo') ;\r\n        const copagoAseoInput = document.querySelector('#copago_aseo');\r\n        const totalAseoInput = document.querySelector('#tarifa_plena_aseo')\r\n\r\n        const ajusteInput = document.querySelector('#ajuste');\r\n        const porcentajeAjusteInput = document.querySelector('#porcentaje_ajuste');\r\n\r\n        /* Eventos */\r\n\r\n        tarifaPlenaInput.addEventListener('input',function(e){\r\n            formaterValor(e);\r\n            calcularSubsidioCopago();\r\n            revisarValores();\r\n            ajusteInput.value = '';\r\n            porcentajeAjusteInput.value = '';\r\n        \r\n        })\r\n\r\n        porcentajeSubsidioInput.addEventListener('input',function(e){\r\n            const porcentaje = parseFloat(e.target.value)\r\n            if(porcentaje<0 || porcentaje>100){\r\n              \r\n                e.target.value = '';\r\n            }\r\n            calcularSubsidioCopago();\r\n            revisarValores();\r\n            ajusteInput.value = '';\r\n            porcentajeAjusteInput.value = '';\r\n        \r\n        })\r\n\r\n\r\n        porcentajeAcuInput.addEventListener('input',function(e){\r\n        \r\n          \r\n            if(((e.target.value)*1)<0 || ((e.target.value)*1)>100){\r\n             \r\n                e.target.value = '';\r\n            }\r\n          \r\n            const porcentaje = (e.target.value)/100;\r\n     \r\n            calcularDatos(porcentaje,subsidioAcuInput, copagoAcuInput,totalAcuInput);\r\n          \r\n          \r\n        })\r\n        porcentajeAlcInput.addEventListener('input',function(e){\r\n            if(((e.target.value)*1)<0 || ((e.target.value)*1)>100){\r\n             \r\n                e.target.value = '';\r\n            }\r\n            const porcentaje = (e.target.value)/100;\r\n            calcularDatos(porcentaje,subsidioAlcInput, copagoAlcInput,totalAlcInput);\r\n    \r\n          \r\n        })\r\n        porcentajeAseoInput.addEventListener('input',function(e){\r\n            if(((e.target.value)*1)<0 || ((e.target.value)*1)>100){\r\n             \r\n                e.target.value = '';\r\n            }\r\n            const porcentaje = (e.target.value)/100;\r\n            calcularDatos(porcentaje,subsidioAseoInput, copagoAseoInput,totalAseoInput);\r\n          \r\n        })\r\n\r\n\r\n\r\n\r\n        porcentajeAjusteInput.addEventListener('input',calcularValorAjuste)\r\n        \r\n        ajusteInput.addEventListener('input',function(e){\r\n            calcularPorcentajeAjuste()\r\n            formaterValor(e);\r\n         \r\n          \r\n        })\r\n\r\n        /* Funciones */\r\n\r\n        function formaterValor(e){\r\n            const tarifa_plena = e.target.value;\r\n            let tarifa_plena_sin_formato = parseFloat(tarifa_plena.replace(/,/g, ''));\r\n            if(isNaN(tarifa_plena_sin_formato)){\r\n                tarifa_plena_sin_formato = '';\r\n            }\r\n            const tarifa_plena_formateada =  tarifa_plena_sin_formato.toLocaleString('en');\r\n            e.target.value = tarifa_plena_formateada ;\r\n        }\r\n\r\n        function calcularValorAjuste(){\r\n\r\n            if(((porcentajeAjusteInput.value)*1)<0 || ((porcentajeAjusteInput.value)*1)>100){\r\n                porcentajeAjusteInput.value = '';\r\n            }\r\n            if(copagoInput.value!='' && porcentajeAjusteInput.value !='' && copagoInput.value!=0){\r\n                const copago = parseFloat(copagoInput.value.replace(/,/g, ''));\r\n                const ajuste = ((porcentajeAjusteInput.value/100)*copago).toFixed(2);\r\n                ajusteInput.value = (parseFloat(ajuste)).toLocaleString('en');\r\n \r\n              \r\n            }else{\r\n                ajusteInput.value = '';\r\n                porcentajeAjusteInput.value = '';\r\n\r\n            }\r\n        }\r\n    \r\n        function calcularPorcentajeAjuste(){\r\n      \r\n            if(copagoInput.value!='' && ajusteInput.value !='' && copagoInput.value!=0){\r\n                const valor_ajuste = parseFloat(ajusteInput.value.replace(/,/g, ''));\r\n                const valor_copago = parseFloat(copagoInput.value.replace(/,/g, ''));\r\n\r\n                if(valor_ajuste>valor_copago){\r\n                    ajusteInput.value = '';\r\n                    porcentajeAjusteInput.value = '';\r\n                    return;\r\n                }\r\n\r\n                const porcentaje_ajuste = (((valor_ajuste*100)/valor_copago).toFixed(2))*1;\r\n                porcentajeAjusteInput.value = porcentaje_ajuste;\r\n              \r\n            }else{\r\n                ajusteInput.value = '';\r\n                porcentajeAjusteInput.value = '';\r\n\r\n            }\r\n            \r\n        }\r\n\r\n        function revisarValores(){\r\n\r\n   \r\n           \r\n            calcularDatos(porcentajeAcuInput.value/100,subsidioAcuInput, copagoAcuInput,totalAcuInput);\r\n            calcularDatos(porcentajeAlcInput.value/100,subsidioAlcInput, copagoAlcInput,totalAlcInput);\r\n            calcularDatos(porcentajeAseoInput.value/100,subsidioAseoInput, copagoAseoInput,totalAseoInput);\r\n     \r\n        }\r\n     \r\n        function calcularDatos(porcentaje,subsidioInputRef, copagoInputRef,totalInputRef){\r\n         \r\n            const tarifa_plena_formateada = tarifaPlenaInput.value;\r\n            const porcentaje_subsidio = (porcentajeSubsidioInput.value)/100;\r\n        \r\n            if(tarifa_plena_formateada!='' && porcentaje_subsidio>=0 && porcentaje >=0){\r\n              \r\n                const tarifa_plena = parseFloat(tarifa_plena_formateada.replace(/,/g, ''));\r\n            \r\n                const subsidio = tarifa_plena*porcentaje_subsidio*porcentaje;\r\n                const copago = (((tarifa_plena*(1-porcentaje_subsidio))*porcentaje).toFixed(2))*1;\r\n                const totalValor = tarifa_plena*porcentaje;\r\n                const total = totalValor.toLocaleString('en');\r\n              \r\n                insertarDatos(subsidio, copago, subsidioInputRef, copagoInputRef,totalInputRef,total);\r\n            }else{\r\n                subsidioInputRef.value=0;\r\n                copagoInputRef.value=0;\r\n                totalInputRef.value=0;\r\n            }\r\n\r\n        }\r\n\r\n       \r\n\r\n        function calcularSubsidioCopago(){\r\n            const tarifa_plena_formateada = tarifaPlenaInput.value;\r\n\r\n            const porcentaje_subsidio = parseFloat((porcentajeSubsidioInput.value)/100);\r\n            \r\n          \r\n            if(tarifa_plena_formateada!='' && porcentaje_subsidio>=0){\r\n               \r\n                const tarifa_plena = parseFloat(tarifa_plena_formateada.replace(/,/g, ''));\r\n                const subsidio = tarifa_plena*porcentaje_subsidio;\r\n                const copago = ((tarifa_plena*(1-porcentaje_subsidio)).toFixed(2))*1;\r\n          \r\n                insertarDatos(subsidio, copago, subsidioInput, copagoInput);\r\n            }else{\r\n              \r\n                subsidioInput.value = '' ;\r\n                copagoInput.value = '';\r\n            }\r\n        }\r\n\r\n        function insertarDatos(subsidio, copago, referencia1, referencia2, referencia3=[] , total= ''){\r\n            if(total!=''){\r\n               referencia3.value = total;\r\n            }\r\n            const valor_subsidio = subsidio.toLocaleString('en');\r\n            const valor_copago = copago.toLocaleString('en');\r\n            referencia1.value = valor_subsidio\r\n            referencia2.value = valor_copago\r\n           \r\n        }\r\n        \r\n    }\r\n})();","\r\n(function(){\r\n\r\n\r\n    const tablaEstratos = document.querySelector('#tablaEstratos');\r\n\r\n    if(tablaEstratos){\r\n\r\n        $('#tablaEstratos').on('click', '#btn_eliminar_estrato', function(e) {\r\n            // Manejar el evento aquí\r\n      \r\n            eliminarEstrato(e);\r\n        });\r\n\r\n        let tablaEstratosData;\r\n        mostrarEstratos();\r\n        verificarCargaTabla();\r\n        function verificarCargaTabla(){\r\n      \r\n            tablaEstratosData.on('draw', eventosClick);\r\n        }\r\n\r\n        function eventosClick(){\r\n\r\n            const btnsInfo = document.querySelectorAll('#btn_info_estrato');\r\n            \r\n            btnsInfo.forEach(btnInfo=>{\r\n                btnInfo.addEventListener('click', function(e){\r\n                  \r\n                    infoEstrato(e);\r\n                })\r\n            })\r\n          \r\n            const btnEliminar = document.querySelectorAll('#btn_eliminar_estrato');\r\n            btnEliminar.forEach(btnEliminar=>{\r\n              \r\n                btnEliminar.addEventListener('click', function(e){\r\n                   // console.log(e.currentTarget)\r\n             \r\n                    eliminarEstrato(e);\r\n                })\r\n            })\r\n        }\r\n\r\n\r\n      \r\n\r\n        async function infoEstrato(e){\r\n            const id = e.currentTarget.dataset.estratoId;\r\n            const url = `/api/estratos/info?id=${id}`;\r\n  \r\n            try {\r\n                const respuesta = await fetch(url);\r\n                const resultado = await respuesta.json();\r\n                \r\n                if(resultado.tipo == 'error'){\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: resultado.mensaje,\r\n        \r\n                    })\r\n                    return;\r\n                }\r\n                mostrarInfo(resultado);\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n            \r\n        }\r\n\r\n        function mostrarInfo(resultado){\r\n  \r\n\r\n            const modal = document.createElement('DIV');\r\n            modal.classList.add('modal');\r\n            modal.innerHTML = `\r\n                <div class=\"modal__informacion\" id=\"info\">\r\n                    <h3>Información del Estrato </h3>\r\n                    \r\n                    <ul class=\"modal__lista\">\r\n                         <li class=\"modal__elemento modal__elemento--grid\">\r\n                           \r\n                            <p class=\"modal__info\">Estrato: <span>${resultado.estrato}</span></p>\r\n                            <p class=\"modal__info\">Año Vigente: <span>${resultado.year}</span></p>\r\n                            <p class=\"modal__info\">Tarifa Plena: <span>${parseFloat((resultado.tarifa_plena)).toLocaleString('en')}</span></p>\r\n                            <p class=\"modal__info\">Número de Facturas Vencidas: <span>${resultado.facturas_vencidas}</span></p>\r\n        \r\n                         </li>\r\n                   \r\n\r\n                         <li class=\"modal__elemento modal__elemento--grid\">\r\n                            <p class=\"modal__info\">Porcentaje Subsidio: <span>${resultado.porcentaje_subsidio}%</span></p>\r\n                            <p class=\"modal__info\">Porcentaje Copago: <span>${resultado.porcentaje_copago}%</span></p>\r\n                            <p class=\"modal__info\">Subsidio: <span>${parseFloat((resultado.subsidio)).toLocaleString('en')}</span></p>\r\n                            <p class=\"modal__info\">Copago: <span>${parseFloat((resultado.copago)).toLocaleString('en')}</span></p>\r\n                         </li>\r\n                        \r\n                         <li class=\"modal__elemento modal__elemento--grid\">\r\n                            <p class=\"modal__info\">Porcentaje Acueducto: <span>${parseFloat((resultado.porcentaje_acu)).toLocaleString('en')}%</span></p>\r\n                            <p class=\"modal__info\">Tarifa Plena Acueducto: <span>${parseFloat((resultado.tarifa_plena_acu)).toLocaleString('en')}</span></p>\r\n                            <p class=\"modal__info\">Valor Subsidio Acueducto: <span>${parseFloat((resultado.subsidio_acu)).toLocaleString('en')}</span></p>\r\n                            <p class=\"modal__info\">Valor Copago Acueducto : <span>${parseFloat((resultado.copago_acu)).toLocaleString('en')}</span></p>\r\n                         </li>\r\n                         \r\n                         <li class=\"modal__elemento modal__elemento--grid\">\r\n                            <p class=\"modal__info\">Porcentaje Alcantarillado: <span>${parseFloat((resultado.porcentaje_alc)).toLocaleString('en')}%</span></p>\r\n                            <p class=\"modal__info\">Tarifa Plena Alcantarillado: <span>${parseFloat((resultado.tarifa_plena_alc)).toLocaleString('en')}</span></p>\r\n                            <p class=\"modal__info\">Valor Subsidio Alcantarillado: <span>${parseFloat((resultado.subsidio_alc)).toLocaleString('en')}</span></p>\r\n                            <p class=\"modal__info\">Valor Copago Alcantarillado : <span>${parseFloat((resultado.copago_alc)).toLocaleString('en')}</span></p>\r\n                         </li>\r\n                         \r\n                         <li class=\"modal__elemento modal__elemento--grid\">\r\n                            <p class=\"modal__info\">Porcentaje Aseo: <span>${parseFloat((resultado.porcentaje_aseo)).toLocaleString('en')}%</span></p>\r\n                            <p class=\"modal__info\">Tarifa Plena Aseo: <span>${parseFloat((resultado.tarifa_plena_aseo)).toLocaleString('en')}</span></p>\r\n                            <p class=\"modal__info\">Valor Subsidio Aseo: <span>${parseFloat((resultado.subsidio_aseo)).toLocaleString('en')}</span></p>\r\n                            <p class=\"modal__info\">Valor Copago Aseo : <span>${parseFloat((resultado.copago_aseo)).toLocaleString('en')}</span></p>\r\n                         </li>\r\n                         <li class=\"modal__elemento modal__elemento--grid\">\r\n                            <p class=\"modal__info\">Porcentaje Ajuste: <span>${parseFloat((resultado.porcentaje_ajuste)).toLocaleString('en')}%</span></p>\r\n                            <p class=\"modal__info\">Tarifa Plena Ajuste: <span>${parseFloat((resultado.ajuste)).toLocaleString('en')}</span></p>\r\n                           \r\n                         </li>\r\n                         \r\n                        \r\n                    </ul>\r\n\r\n                    <div class=\"modal__opciones\">\r\n                      \r\n             \r\n                      \r\n                        <button type=\"button\" class=\"modal__cerrar-modal\">Cerrar</button>\r\n                    </div>\r\n                    \r\n                </div>\r\n            `\r\n            setTimeout(()=>{\r\n                const info = document.querySelector('#info');\r\n                info.classList.add('modal__informacion--animar');\r\n            },10)\r\n            modal.addEventListener('click',function(e){\r\n                e.preventDefault();\r\n                if(e.target.classList.contains('modal__cerrar-modal')){\r\n                    const info = document.querySelector('#info');\r\n                    info.classList.add('modal__informacion--cerrar');\r\n                    setTimeout(()=>{\r\n                        modal.remove();\r\n                        \r\n                       \r\n                    },500)\r\n                }\r\n               \r\n           \r\n            })\r\n\r\n            document.querySelector('.dashboard__contenedor').appendChild(modal);\r\n        }\r\n\r\n        function eliminarEstrato(e){\r\n   \r\n            const estrato =e.currentTarget.parentNode.parentNode.parentNode.children[1].textContent;\r\n            \r\n          \r\n            const id = e.currentTarget.dataset.estratoId;\r\n            Swal.fire({\r\n                title: `Esta seguro que desea eliminar el estrato ${estrato}?`,\r\n                text:'Esta accion no se puede deshacer',\r\n                icon: 'question',\r\n                showDenyButton: true,\r\n                confirmButtonText: 'Aceptar',\r\n                denyButtonText: `Cancelar`,\r\n              }).then((result) => {\r\n                /* Read more about isConfirmed, isDenied below */\r\n                if (result.isConfirmed) {\r\n                    enviarInformacionEliminar(id);\r\n                    \r\n                  //Swal.fire('Saved!', '', 'success')\r\n                }\r\n              })\r\n        }\r\n        async function enviarInformacionEliminar(id){\r\n      \r\n            url = `/api/estratos/eliminar?id=${id}`;\r\n            try {\r\n                const respuesta = await fetch(url)\r\n                const resultado = await respuesta.json();\r\n               \r\n            \r\n                if(resultado.tipo=='error'){\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: resultado.mensaje,\r\n        \r\n                    })\r\n                    return;\r\n                }\r\n                Swal.fire({\r\n                    icon: 'success',\r\n                  \r\n                    text: resultado.mensaje,\r\n                    \r\n                })\r\n                tablaEstratosData.ajax.reload(); \r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n\r\n\r\n \r\n        function mostrarEstratos(){\r\n      \r\n            $(\"#tablaEstratos\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n    \r\n            tablaEstratosData = $('#tablaEstratos').DataTable({\r\n                ajax: '/api/estratos',\r\n                \"deferRender\":true,\r\n                \"retrieve\":true,\r\n                \"proccesing\":true,\r\n                responsive:true\r\n            });\r\n            // $.ajax({\r\n            //     url:'/api/estratos',\r\n            //     success:function(req){\r\n            //         console.log(req)\r\n            //     },\r\n            //     error:function(error){\r\n            //         console.log(error.responseText);\r\n            //     }\r\n                \r\n            // })\r\n        }\r\n\r\n        \r\n    }\r\n\r\n})();\r\n","(function(){\r\n    const caja = document.querySelector('#caja');\r\n    if(caja){\r\n        const efectivoInicialInput = document.querySelector('#efectivo_inicial');\r\n        efectivoInicialInput.addEventListener('input',function(e){\r\n            formaterValor(e)\r\n        })\r\n        function formaterValor(e){\r\n        \r\n        \r\n            const efectivo_inicial = e.target.value;\r\n            let efectivo_inicial_sin_formato = parseFloat(efectivo_inicial.replace(/,/g, ''));\r\n            if(isNaN(efectivo_inicial_sin_formato)){\r\n                efectivo_inicial_sin_formato = '';\r\n            }\r\n            const efectivo_inicial_formateada =  efectivo_inicial_sin_formato.toLocaleString('en');\r\n            e.target.value = efectivo_inicial_formateada ;\r\n        }\r\n    }\r\n\r\n})();","(function(){\r\n    const infoCaja = document.querySelector('#tablaCajasPagos')\r\n \r\n    if(infoCaja){\r\n        let tablaCajasPagos;\r\n        const urlActual = new URL(window.location);\r\n        const params = new URLSearchParams(urlActual.search);\r\n        const id = params.get('id');\r\n        const infoCaja = document.querySelector('#tablaCajasPagos')\r\n    \r\n       \r\n        mostrarEstratos();\r\n        function mostrarEstratos(){\r\n            \r\n            if(Number.isInteger(parseInt(id))){\r\n         \r\n                $(\"#tablaCajasPagos\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n        \r\n                tablaCajasPagos = $('#tablaCajasPagos').DataTable({\r\n                    ajax:'/api/cajas/pagos?id='+id,\r\n                    \"deferRender\":true,\r\n                    \"retrieve\":true,\r\n                    \"proccesing\":true,\r\n                    responsive:true\r\n                });\r\n            \r\n                // $.ajax({\r\n                //     url:'/api/cajas/pagos?id='+id,\r\n                    \r\n                //     success:function(req){\r\n                //         console.log(req)\r\n                //     },\r\n                //     error:function(error){\r\n                //         console.log(error.responseText);\r\n                //     }\r\n                    \r\n                // })\r\n              \r\n            }else{\r\n                window.location.href='/admin/cajas'\r\n            }\r\n            \r\n        }\r\n    }\r\n})();","\r\n(function(){\r\n    const tablaCajas = document.querySelector('#tablaCajas');\r\n    if(tablaCajas){\r\n        \r\n\r\n        let tablaCajasData;\r\n\r\n        $('#tablaCajas').on('click', '#estadoCaja', function(e) {\r\n            // Manejar el evento aquí\r\n            const id = $(this).data('cajaId');\r\n            alertaCierre(id);\r\n        });\r\n       \r\n\r\n        mostrarEstratos();\r\n        verificarCargaTabla();\r\n        function verificarCargaTabla(){\r\n        \r\n            tablaCajasData.on('draw', function(){\r\n                const estadoCaja = document.querySelector('#estadoCaja');\r\n                if(estadoCaja){\r\n\r\n                    estadoCaja.addEventListener('dblclick',function(e){\r\n                   \r\n                        const id = e.target.dataset.cajaId;\r\n                        alertaCierre(id);\r\n                    })\r\n                }\r\n           \r\n            });\r\n        }\r\n\r\n        function alertaCierre(id){\r\n            Swal.fire({\r\n                \r\n                title: 'Esta Seguro de Cerrar esta Caja?',\r\n                text:'Esta acción no se puede deshacer',\r\n                icon:'warning',\r\n                showDenyButton: true,\r\n          \r\n                confirmButtonText: 'Seguro',\r\n                denyButtonText: `Cancelar`,\r\n              }).then((result) => {\r\n                \r\n\r\n                if (result.isConfirmed) {\r\n                 \r\n                   cerrarCaja(id);\r\n                } \r\n              })\r\n        }\r\n\r\n        async function cerrarCaja(id){\r\n           \r\n            const datos = new FormData();\r\n            datos.append('id', id);\r\n   \r\n            try {\r\n                const url = '/api/cajas/cerrar';\r\n                //const url =`${location.origin}/api/cajas/cerrar`;\r\n                //const url = 'http://localhost:3000/api/cajas/cerrar';\r\n                const respuesta = await fetch(url,{\r\n                    body:datos,\r\n                    method:'POST'\r\n                });\r\n                const resultado = await respuesta.json();\r\n                \r\n                if(resultado.tipo == 'success'){\r\n                    if(resultado.tipo=='error'){\r\n                        Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Oops...',\r\n                            text: resultado.mensaje,\r\n            \r\n                        })\r\n                        return;\r\n                    }\r\n                    Swal.fire({\r\n                        icon: 'success',\r\n                      \r\n                        text: resultado.mensaje,\r\n                        \r\n                    })\r\n                    tablaCajasData.ajax.reload(); \r\n                }\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n        function mostrarEstratos(){\r\n            $(\"#tablaCajas\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n        \r\n            tablaCajasData = $('#tablaCajas').DataTable({\r\n                ajax: '/api/cajas',\r\n                \"deferRender\":true,\r\n                \"retrieve\":true,\r\n                \"proccesing\":true,\r\n                responsive:true\r\n            });\r\n            // $.ajax({\r\n            //     url:'/api/cajas',\r\n            //     success:function(req){\r\n            //         console.log(req)\r\n            //     },\r\n            //     error:function(error){\r\n            //         console.log(error.responseText);\r\n            //     }\r\n                \r\n            // })\r\n        }\r\n\r\n    }\r\n})();\r\n\r\n\r\n","\r\n\r\n(function(){\r\n    const contenedorFactura = document.querySelector('#facturas');\r\n    if(contenedorFactura){\r\n            const urlActual = new URL(window.location);\r\n            const params = new URLSearchParams(urlActual.search);\r\n            const id = params.get('id');\r\n            const nombreCliente = document.querySelector('#cliente')\r\n           \r\n            consultarFacturas();\r\n\r\n            async function consultarFacturas(){\r\n\r\n                const datos = new FormData();\r\n                datos.append('id',id);\r\n                \r\n                try {\r\n                    const url = '/api/facturas-registrado'\r\n                    const respuesta = await fetch(url, {\r\n                        method:'POST',\r\n                        body: datos\r\n                    });\r\n                    const resultado = await respuesta.json();\r\n             \r\n                    if(resultado){\r\n                  \r\n                        imprimirDeuda(resultado.deuda);\r\n                        imprimirResultados(resultado.facturas);\r\n                    }\r\n                                  \r\n                } catch (error) {\r\n                    console.log(error)\r\n                }\r\n            }\r\n            function imprimirDeuda(valorDeuda){\r\n                const deuda = document.querySelector('#deuda')\r\n                deuda.classList = [];\r\n                deuda.classList.add('deuda__valor')\r\n                if(valorDeuda==0){\r\n                    \r\n                    deuda.classList.add('deuda__valor--pagado')\r\n                }else{\r\n                    deuda.classList.add('deuda__valor--vencido')\r\n                }\r\n                deuda.textContent = `$ ${valorDeuda.toLocaleString('en')}`\r\n            }\r\n\r\n            function imprimirResultados(facturas){\r\n                \r\n\r\n                \r\n                const tabla = document.createElement('TABLE');\r\n                tabla.classList.add('table');\r\n\r\n                facturas.forEach(factura => {\r\n  \r\n                    const {id, numero_factura, fecha_emision, periodo_fin, periodo_inicio, copago, pagado, ajuste, combinado, saldo_anterior} = factura\r\n                    const dateFechaActual = new Date();\r\n                    const mesActual = dateFechaActual.getMonth()+1;\r\n                 \r\n                    const arregloFecha = fecha_emision.split('-');\r\n                    const mesEmision = parseFloat(arregloFecha[1])\r\n                    \r\n                   \r\n                   const diferenciaFechas = mesActual - mesEmision;\r\n                    \r\n            \r\n                   \r\n                \r\n              \r\n                    const tr = document.createElement('TR');\r\n                    tr.classList.add('table__tr')\r\n                    // tr.dataset.facturaId = id;\r\n                    tr.onclick = function(e){\r\n                        seleccionFactura(e);\r\n                        informacionFactura(factura);\r\n                    }\r\n\r\n                    const tdNumeroFactura = document.createElement('TD');\r\n                    tdNumeroFactura.classList.add('table__td');\r\n                    tdNumeroFactura.textContent = `#${numero_factura}`\r\n\r\n                    const tdEmitida = document.createElement('TD');\r\n                    tdEmitida.classList.add('table__td');\r\n                    tdEmitida.innerHTML = `<span class=\"table__span\">Emitida:&nbsp; </span>&nbsp; ${fecha_emision}`;\r\n\r\n                    const tdPeriodo = document.createElement('TD');\r\n                    tdPeriodo.classList.add('table__td');\r\n                    tdPeriodo.innerHTML = `<span class=\"table__span\">Periodo:&nbsp; </span>&nbsp; ${periodo_inicio} &nbsp; - &nbsp;${periodo_fin}`\r\n\r\n                    const montoTotal = parseFloat(copago)+parseFloat(saldo_anterior)-parseFloat(ajuste)\r\n                    const tdMonto = document.createElement('TD');\r\n                    tdMonto.classList.add('table__td');\r\n                    tdMonto.innerHTML = ` <span class=\"table__span\">Monto:&nbsp; </span>$ ${parseFloat(montoTotal).toLocaleString('en')}`\r\n\r\n                    const tdEstado = document.createElement('TD');\r\n                    tdEstado.classList.add('table__td');\r\n                    if(diferenciaFechas>0 && pagado==0){\r\n                        tdEstado.innerHTML = ` <span class=\"table__boton table__boton--vencida\">Impaga</span>`\r\n                    }else{\r\n                        tdEstado.innerHTML = ` <span class=\"table__boton table__boton--${ pagado== 1?'pagado':'impaga'}\">${pagado == 1?'Pagado':'Impaga'}</span>`\r\n                    \r\n                    }   \r\n                    if(combinado == 1){\r\n                        tdEstado.innerHTML = ` <span class=\"table__boton table__boton--vencida\">Combinada</span>`\r\n                    }\r\n\r\n                     \r\n                   \r\n\r\n\r\n\r\n                    tr.appendChild(tdNumeroFactura)\r\n                    tr.appendChild(tdEmitida)\r\n                    tr.appendChild(tdPeriodo)\r\n                    tr.appendChild(tdMonto)\r\n                    tr.appendChild(tdEstado)\r\n                    tabla.appendChild(tr);\r\n\r\n\r\n                });\r\n                \r\n                \r\n                \r\n                \r\n                contenedorFactura.appendChild(tabla)\r\n\r\n            }\r\n\r\n            function informacionFactura(factura){\r\n                const {id, numero_factura, fecha_emision, estrato, periodo_inicio, periodo_fin, copago,ajuste, pagado, saldo_anterior, combinado} = factura;\r\n               \r\n           \r\n                limpiarHtml();\r\n                const acciones = document.querySelector('#actions')\r\n              \r\n\r\n                const accionesContenedor = document.createElement('DIV');\r\n                accionesContenedor.classList.add('actions__contenedor')\r\n              \r\n              \r\n                const accionesInfo = document.createElement('DIV');\r\n                accionesInfo.classList.add('actions__info');\r\n\r\n                /* cliente */\r\n\r\n                const accionesCliente = document.createElement('DIV');\r\n                accionesCliente.classList.add('registrado__datos');\r\n\r\n                const clienteLabel = document.createElement('SPAN');\r\n                clienteLabel.classList.add('registrado__label');\r\n                clienteLabel.textContent = 'Cliente'\r\n                \r\n                const clienteDato = document.createElement('P');\r\n                clienteDato.classList.add('registrado__dato');\r\n                clienteDato.textContent = nombreCliente.textContent\r\n                \r\n                /* estrato */\r\n\r\n                \r\n                \r\n                const accionesEstrato = document.createElement('DIV');\r\n                accionesEstrato.classList.add('registrado__datos');\r\n\r\n                \r\n                const estratoLabel = document.createElement('SPAN');\r\n                estratoLabel.classList.add('registrado__label');\r\n                estratoLabel.textContent = 'Estrato'\r\n                \r\n                const estratoDato = document.createElement('P');\r\n                estratoDato.classList.add('registrado__dato');\r\n                estratoDato.textContent = estrato\r\n\r\n                /* Periodo */\r\n\r\n                const accionesPeriodo = document.createElement('DIV');\r\n                accionesPeriodo.classList.add('registrado__datos');\r\n\r\n                \r\n                const periodoLabel = document.createElement('SPAN');\r\n                periodoLabel.classList.add('registrado__label');\r\n                periodoLabel.textContent = 'Periodo'\r\n                \r\n                const periodoDato = document.createElement('P');\r\n                periodoDato.classList.add('registrado__dato');\r\n                \r\n                periodoDato.innerHTML = `${periodo_inicio} &nbsp;- &nbsp;  ${periodo_fin}`\r\n\r\n                /* Monto */\r\n\r\n                const accionesMonto = document.createElement('DIV');\r\n                accionesMonto.classList.add('registrado__datos');\r\n\r\n\r\n           \r\n                \r\n                const montoLabel = document.createElement('SPAN');\r\n                montoLabel.classList.add('registrado__label');\r\n                montoLabel.textContent = 'Monto '\r\n\r\n                const montoTotal = parseFloat(copago)+parseFloat(saldo_anterior)-parseFloat(ajuste)\r\n                \r\n                const montoDato = document.createElement('P');\r\n                montoDato.classList.add('registrado__dato');\r\n                montoDato.textContent =`$ ${montoTotal .toLocaleString('en')}`;\r\n                \r\n\r\n                \r\n\r\n                accionesCliente.appendChild(clienteLabel);\r\n                accionesCliente.appendChild(clienteDato);\r\n\r\n                accionesEstrato.appendChild(estratoLabel);\r\n                accionesEstrato.appendChild(estratoDato);\r\n                \r\n                accionesPeriodo.appendChild(periodoLabel);\r\n                accionesPeriodo.appendChild(periodoDato);\r\n\r\n                accionesMonto.appendChild(montoLabel);\r\n                accionesMonto.appendChild(montoDato);\r\n    \r\n                accionesContenedor.appendChild(accionesCliente);\r\n                accionesContenedor.appendChild(accionesEstrato);\r\n                accionesContenedor.appendChild(accionesPeriodo);\r\n                accionesContenedor.appendChild(accionesMonto);\r\n\r\n                acciones.appendChild(accionesContenedor)\r\n\r\n                //Botones \r\n                const botonesContenedor = document.createElement('DIV');\r\n                botonesContenedor.classList.add('actions__botones');\r\n\r\n                const btnVerFactura =  document.createElement('SPAN');\r\n                btnVerFactura.classList.add('actions__boton');\r\n\r\n                btnVerFactura.onclick = function(){\r\n                    previsualizarFactura(numero_factura);\r\n                }\r\n                btnVerFactura.textContent = 'Previzualizar';\r\n\r\n               \r\n\r\n                if(pagado==0 && combinado==0){\r\n                    const btnPagar =  document.createElement('SPAN');\r\n                    btnPagar.classList.add('actions__boton');\r\n                    btnPagar.textContent = 'Pago Efectivo';\r\n                    btnPagar.id = 'btnPagar';\r\n                   \r\n                    const btnBanco =  document.createElement('SPAN');\r\n                    btnBanco.classList.add('actions__boton');\r\n                    btnBanco.textContent = 'transferencia';\r\n                    btnBanco.id = 'btnBanco';\r\n\r\n                    btnPagar.onclick = function(){\r\n                        btnBanco.style.display = 'none'\r\n                        btnPagar.style.display = 'none'\r\n                        pagarFactura(factura, 1, btnPagar,btnBanco);\r\n                    }\r\n                    btnBanco.onclick = function(){\r\n                        btnBanco.style.display = 'none'\r\n                        btnPagar.style.display = 'none'\r\n                        pagarFactura(factura, 0, btnPagar,btnBanco);\r\n                    }\r\n    \r\n                 \r\n                    botonesContenedor.appendChild(btnPagar);\r\n                    botonesContenedor.appendChild(btnBanco);\r\n                }\r\n\r\n                botonesContenedor.appendChild(btnVerFactura);\r\n\r\n                acciones.appendChild(botonesContenedor);\r\n\r\n            }\r\n\r\n            async function previsualizarFactura(numero_factura){\r\n               \r\n\r\n                const url =`/api/previsualizar-factura?key=${btoa(numero_factura)}`;\r\n                // Abre la URL en una nueva pestaña\r\n                window.open(url, '_blank');\r\n\r\n              \r\n            }\r\n\r\n            function pagarFactura(factura, metodo, btnPagar,btnBanco){\r\n                const {id,copago, periodo_inicio, periodo_fin, numero_factura}  = factura;\r\n   \r\n\r\n                const registrado = document.createElement('DIV');\r\n                registrado.classList.add('registrado');\r\n\r\n                const metodoDatos = document.createElement('DIV');\r\n                metodoDatos.classList.add('registrado__datos');\r\n\r\n                const metodoLabel = document.createElement('SPAN');\r\n                metodoLabel.classList.add('registrado__label');\r\n                metodoLabel.textContent = 'Metodo de Pago:'\r\n\r\n                const metodoDato = document.createElement('P');\r\n                metodoDato.classList.add('registrado__dato')\r\n                metodoDato.textContent = metodo==1?'Efectivo':'Transferencia';\r\n\r\n                const registradoDatos = document.createElement('DIV');\r\n                registradoDatos.classList.add('registrado__datos');\r\n\r\n                const registradoLabel = document.createElement('SPAN');\r\n                registradoLabel.classList.add('registrado__label');\r\n                registradoLabel.textContent = 'Cliente:'\r\n\r\n                const registradoDato = document.createElement('P');\r\n                registradoDato.classList.add('registrado__dato')\r\n                registradoDato.textContent = nombreCliente.textContent;\r\n\r\n                const periodoDatos = document.createElement('DIV');\r\n                periodoDatos.classList.add('registrado__datos');\r\n\r\n                \r\n                const periodoLabel = document.createElement('SPAN');\r\n                periodoLabel.classList.add('registrado__label');\r\n                periodoLabel.textContent = 'Periodo:'\r\n                \r\n                const periodoDato = document.createElement('P');\r\n                periodoDato.classList.add('registrado__dato');\r\n                periodoDato.innerHTML = `${periodo_inicio} &nbsp;- &nbsp;  ${periodo_fin}`\r\n\r\n                /* Monto */\r\n\r\n                const montoDatos = document.createElement('DIV');\r\n                montoDatos.classList.add('registrado__datos');\r\n\r\n                \r\n                const montoLabel = document.createElement('SPAN');\r\n                montoLabel.classList.add('registrado__label');\r\n                montoLabel.textContent = 'Monto: '\r\n                \r\n                const montoDato = document.createElement('P');\r\n                montoDato.classList.add('registrado__dato');\r\n                montoDato.textContent =`$ ${(parseFloat(copago)).toLocaleString('en')}`;\r\n                \r\n\r\n                \r\n\r\n                \r\n\r\n                metodoDatos.appendChild(metodoLabel);\r\n                metodoDatos.appendChild(metodoDato);\r\n\r\n                registradoDatos.appendChild(registradoLabel);\r\n                registradoDatos.appendChild(registradoDato);\r\n            \r\n                periodoDatos.appendChild(periodoLabel)\r\n                periodoDatos.appendChild(periodoDato)\r\n\r\n                montoDatos.appendChild(montoLabel)\r\n                montoDatos.appendChild(montoDato)\r\n\r\n                registrado.appendChild(metodoDatos);\r\n                registrado.appendChild(registradoDatos);\r\n                registrado.appendChild(periodoDatos);\r\n                registrado.appendChild(montoDatos);\r\n\r\n               \r\n  \r\n\r\n                Swal.fire({\r\n                    title: `Confirme La información`,\r\n                    html: registrado,\r\n                    text:'Esta accion no se puede deshacer',\r\n                    icon: 'question',\r\n                    showDenyButton: true,\r\n                    confirmButtonText: 'Aceptar',\r\n                    denyButtonText: `Cancelar`,\r\n                  }).then((result) => {\r\n                    /* Read more about isConfirmed, isDenied below */\r\n                    if (result.isConfirmed) {\r\n                        enviarInformacionPagar(id, metodo, btnPagar, btnBanco);\r\n                        \r\n                      //Swal.fire('Saved!', '', 'success')\r\n                    }else{\r\n                        btnPagar.style.display = 'block'\r\n                        btnBanco.style.display  = 'block'\r\n                    }\r\n                  })\r\n            }\r\n\r\n            async function enviarInformacionPagar(id, metodo, btnPagar, btnBanco){\r\n                //const url =  'http://localhost:3000/api/pagar'; //desarrollo\r\n                const url =  '/api/pagar';\r\n                const datos = new FormData();\r\n                datos.append('id',id);\r\n                datos.append('metodo', metodo);\r\n                try {\r\n                    const respuesta = await fetch(url,{\r\n                        body:datos,\r\n                        method:'POST'\r\n                    })\r\n                    const resultado = await respuesta.json();\r\n            \r\n               \r\n                 \r\n                    if(resultado.tipo == 'error'){\r\n                        Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Oops',\r\n                            text: resultado.mensaje\r\n                          })\r\n                    }else{\r\n                        Swal.fire({\r\n                            icon: 'success',\r\n                            \r\n                            text: resultado.mensaje\r\n                          })\r\n                    const body =  document.querySelector('body');\r\n                    const inputHidden = document.createElement(\"input\");\r\n                    inputHidden.type = \"hidden\"; \r\n                    inputHidden.id = \"confirmacionPago\"; \r\n                    body.appendChild(inputHidden);\r\n\r\n\r\n                        while(contenedorFactura.firstChild){\r\n                            contenedorFactura.removeChild(contenedorFactura.firstChild);\r\n                        }\r\n                     \r\n                        document.querySelector('#btnPagar').remove();\r\n                        consultarFacturas();\r\n                     \r\n                    }\r\n                } catch (error) {\r\n                    \r\n                }\r\n            }\r\n\r\n  \r\n          \r\n\r\n\r\n\r\n            function seleccionFactura(e){\r\n\r\n                const seleccionAnterior =  document.querySelector('.table__seleccion');\r\n                if(seleccionAnterior){\r\n                    seleccionAnterior.classList.remove('table__seleccion')\r\n                }\r\n                const facturaSeleccionada  =e.currentTarget;\r\n                facturaSeleccionada.classList.add('table__seleccion');\r\n            }\r\n\r\n   \r\n\r\n            function limpiarHtml(){\r\n                const acciones = document.querySelector('#actions')\r\n                while(acciones.firstChild){\r\n                    acciones.removeChild(acciones.firstChild);\r\n                }\r\n            }\r\n            \r\n       \r\n\r\n       \r\n        \r\n\r\n     }\r\n\r\n})();","\r\n\r\n(function(){\r\n  \r\n    const tablaRegistrados = document.querySelector('#tablaRegistrados');\r\n \r\n    if(tablaRegistrados){\r\n\r\n        $('#tablaRegistrados').on('click', '#btn_eliminar_registrado', function(e) {\r\n            // Manejar el evento aquí\r\n            leerAccion(e);\r\n            // Resto del código\r\n        });\r\n       \r\n        let tablaRegistradosData;\r\n        mostrarRegistrados();\r\n        verificarCargaTabla();\r\n\r\n        function verificarCargaTabla(){\r\n            tablaRegistradosData.on('draw', eventosClickEditar);\r\n        }\r\n        function eventosClickEditar(){\r\n          \r\n            const btnEliminar = document.querySelectorAll('#btn_eliminar_registrado');\r\n            btnEliminar.forEach(btnEliminar=>{\r\n              \r\n                btnEliminar.addEventListener('click', function(e){\r\n                    // const registradoId = e.currentTarget.dataset.registradoId;\r\n                    leerAccion(e);\r\n                })\r\n            })\r\n        }\r\n        // tablaRegistrados.addEventListener('click',function(e){\r\n        //     leerAccion(e);\r\n        // })\r\n        function leerAccion( e){\r\n       \r\n            if(e.currentTarget.id=='btn_eliminar_registrado'){\r\n                eliminarRegistrado( e);\r\n            }\r\n            \r\n        }\r\n        function eliminarRegistrado(e){\r\n            const registrado = e.currentTarget.parentNode.parentNode.parentNode.children[1].textContent;\r\n            const id = e.currentTarget.dataset.registradoId;\r\n            \r\n            Swal.fire({\r\n                title: `Esta seguro que desea eliminar el estrato ${registrado}?`,\r\n                text:'Esta accion no se puede deshacer',\r\n                icon: 'question',\r\n                showDenyButton: true,\r\n                confirmButtonText: 'Aceptar',\r\n                denyButtonText: `Cancelar`,\r\n              }).then((result) => {\r\n                /* Read more about isConfirmed, isDenied below */\r\n                if (result.isConfirmed) {\r\n                    enviarInformacionEliminar(id);\r\n                    \r\n                  //Swal.fire('Saved!', '', 'success')\r\n                }\r\n              })\r\n        }\r\n        async function enviarInformacionEliminar(id){\r\n      \r\n            url = `/api/registrados/eliminar?id=${id}`;\r\n            try {\r\n                const respuesta = await fetch(url)\r\n                const resultado = await respuesta.json();\r\n               \r\n            \r\n                if(resultado.tipo=='error'){\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: resultado.mensaje,\r\n        \r\n                    })\r\n                    return;\r\n                }\r\n                Swal.fire({\r\n                    icon: 'success',\r\n                  \r\n                    text: resultado.mensaje,\r\n                    \r\n                })\r\n                tablaRegistradosData.ajax.reload(); \r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n        \r\n\r\n\r\n        function mostrarRegistrados(){\r\n            $(\"#tablaRegistrados\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n    \r\n            tablaRegistradosData = $('#tablaRegistrados').DataTable({\r\n                ajax: '/api/registrados',\r\n                \"deferRender\":true,\r\n                \"retrieve\":true,\r\n                \"proccesing\":true,\r\n                responsive:true\r\n            });\r\n            // $.ajax({\r\n            //     url:'/api/registrados',\r\n            //     success:function(req){\r\n            //         console.log(req)\r\n            //     },\r\n            //     error:function(error){\r\n            //         console.log(error.responseText);\r\n            //     }\r\n                \r\n            // })\r\n        }\r\n    }\r\n})();","\r\n\r\n(function(){\r\n  \r\n    const contenedorPagado = document.querySelector('#pagos');\r\n    if(contenedorPagado){\r\n            let control = true;\r\n            const urlActual = new URL(window.location);\r\n            const params = new URLSearchParams(urlActual.search);\r\n            const id = params.get('id');\r\n            const nombreCliente = document.querySelector('#cliente')\r\n            const actions = document.querySelector('#actions');\r\n            // actions.addEventListener('click',function(e){\r\n           \r\n            //     if(e.target.id=='btnPagar'){\r\n            //        const swal =  document.querySelector('.swal2-confirm')\r\n\r\n            //        swal.addEventListener('click',function(){\r\n            //             setTimeout(()=>{\r\n                         \r\n            //                 consultarPagos();\r\n            //             },2000)\r\n            //        })\r\n            //     }\r\n            // })\r\n\r\n           const body  =  document.querySelector('body');\r\n           body.addEventListener('click',function(){\r\n                const inputHidden = document.querySelector('#confirmacionPago')\r\n                if(inputHidden){\r\n                    consultarPagos();\r\n                  \r\n                }\r\n           })\r\n\r\n            \r\n           \r\n           \r\n            consultarPagos();\r\n    \r\n            \r\n      \r\n            async function consultarPagos(){\r\n                if(document.querySelector('#confirmacionPago')){\r\n                    document.querySelector('#confirmacionPago').remove()\r\n                }\r\n                \r\n            \r\n\r\n                const datos = new FormData();\r\n                datos.append('id',id);\r\n                \r\n                try {\r\n                    //const url = 'http://localhost:3000/api/pagos'//desarrollo \r\n                    const url = '/api/pagos' //produccion\r\n                    const respuesta = await fetch(url, {\r\n                        method:'POST',\r\n                        body: datos\r\n                    });\r\n                    const pagos = await respuesta.json();\r\n                    \r\n                    if(pagos){\r\n                        \r\n                        imprimirResultados(pagos);\r\n                    }\r\n                                  \r\n                } catch (error) {\r\n                    console.log(error)\r\n                }\r\n            }\r\n\r\n            function imprimirResultados(pagos){\r\n\r\n                while(contenedorPagado.firstChild){\r\n                    contenedorPagado.removeChild(contenedorPagado.firstChild);\r\n                }\r\n             \r\n                const tabla = document.createElement('TABLE');\r\n                tabla.classList.add('table');\r\n\r\n                pagos.forEach(pago => {\r\n  \r\n                    const {id, numero_factura, fecha_pago, periodo_fin, periodo_inicio, monto, numero_pago, estado} = pago\r\n                    const tr = document.createElement('TR');\r\n                    tr.classList.add('table__tr')\r\n                    // tr.dataset.facturaId = id;\r\n                    tr.onclick = function(e){\r\n                        seleccionarPago(e);\r\n                        informacionPago(pago);\r\n                    }\r\n\r\n                    const tdNumeroFactura = document.createElement('TD');\r\n                    tdNumeroFactura.classList.add('table__td');\r\n                    tdNumeroFactura.textContent = `#${numero_factura}`\r\n\r\n                    const tdFechaPago = document.createElement('TD');\r\n                    tdFechaPago.classList.add('table__td');\r\n                    tdFechaPago.innerHTML = `<span class=\"table__span\">Fecha de Pago:&nbsp; </span>&nbsp; ${fecha_pago}`;\r\n\r\n                    const tdPeriodo = document.createElement('TD');\r\n                    tdPeriodo.classList.add('table__td');\r\n                    tdPeriodo.innerHTML = `<span class=\"table__span\">Periodo:&nbsp; </span>&nbsp; ${periodo_inicio} &nbsp; - &nbsp;${periodo_fin}`\r\n\r\n                    const tdMonto = document.createElement('TD');\r\n                    tdMonto.classList.add('table__td');\r\n                    tdMonto.innerHTML = ` <span class=\"table__span\">Monto:&nbsp; </span>$ ${monto}`\r\n\r\n                    const tdNumeroPago = document.createElement('TD');\r\n                    tdNumeroPago.classList.add('table__td');\r\n                    tdNumeroPago.innerHTML = ` <span class=\"table__span\">Pago #&nbsp; </span> ${numero_pago}`\r\n\r\n                    \r\n\r\n                   \r\n\r\n                \r\n\r\n                    tr.appendChild(tdNumeroFactura)\r\n                    tr.appendChild(tdFechaPago)\r\n                    tr.appendChild(tdPeriodo)\r\n                    tr.appendChild(tdMonto)\r\n                    tr.appendChild(tdNumeroPago)\r\n                    if(estado==0){\r\n                      \r\n                        const tdPagoAnulado = document.createElement('TD');\r\n                        tdPagoAnulado.classList.add('table__td');\r\n                        tdPagoAnulado.innerHTML = `<span class=\"table__boton table__boton--vencida\">Anulado</span>`\r\n                        tr.appendChild(tdPagoAnulado);\r\n                    }\r\n                    tabla.appendChild(tr);\r\n\r\n\r\n                });\r\n                \r\n                \r\n                \r\n                \r\n                contenedorPagado.appendChild(tabla)\r\n\r\n            }\r\n\r\n            function informacionPago(pago){\r\n                const {id, numero_factura,numero_pago, estrato, metodo, periodo_inicio, periodo_fin, monto, recaudador, factura_id} = pago;\r\n               \r\n                limpiarHtml();\r\n                const acciones = document.querySelector('#payments')\r\n              \r\n\r\n                const accionesContenedor = document.createElement('DIV');\r\n                accionesContenedor.classList.add('actions__contenedor')\r\n              \r\n              \r\n                const accionesInfo = document.createElement('DIV');\r\n                accionesInfo.classList.add('actions__info');\r\n\r\n                /* cliente */\r\n\r\n                // const accionesCliente = document.createElement('DIV');\r\n                // accionesCliente.classList.add('registrado__datos');\r\n\r\n                // const clienteLabel = document.createElement('SPAN');\r\n                // clienteLabel.classList.add('registrado__label');\r\n                // clienteLabel.textContent = 'Cliente'\r\n                \r\n                // const clienteDato = document.createElement('P');\r\n                // clienteDato.classList.add('registrado__dato');\r\n                // clienteDato.textContent = nombreCliente.textContent\r\n                \r\n                /* estrato */\r\n\r\n                \r\n                \r\n                const accionesRecaudador = document.createElement('DIV');\r\n                accionesRecaudador.classList.add('registrado__datos');\r\n\r\n                \r\n                const recaudadorLabel = document.createElement('SPAN');\r\n                recaudadorLabel.classList.add('registrado__label');\r\n                recaudadorLabel.textContent = 'Recaudador'\r\n                \r\n                const recaudadorDato = document.createElement('P');\r\n                recaudadorDato.classList.add('registrado__dato');\r\n                recaudadorDato.textContent = recaudador\r\n\r\n                /* Periodo */\r\n\r\n                const accionesPeriodo = document.createElement('DIV');\r\n                accionesPeriodo.classList.add('registrado__datos');\r\n\r\n                \r\n                const periodoLabel = document.createElement('SPAN');\r\n                periodoLabel.classList.add('registrado__label');\r\n                periodoLabel.textContent = 'Periodo'\r\n                \r\n                const periodoDato = document.createElement('P');\r\n                periodoDato.classList.add('registrado__dato');\r\n                \r\n                periodoDato.innerHTML = `${periodo_inicio} &nbsp;- &nbsp;  ${periodo_fin}`\r\n\r\n                /* Monto */\r\n\r\n                const accionesMonto = document.createElement('DIV');\r\n                accionesMonto.classList.add('registrado__datos');\r\n\r\n                \r\n                const montoLabel = document.createElement('SPAN');\r\n                montoLabel.classList.add('registrado__label');\r\n                montoLabel.textContent = 'Monto '\r\n                \r\n                const montoDato = document.createElement('P');\r\n                montoDato.classList.add('registrado__dato');\r\n                montoDato.textContent =`$ ${monto}`;\r\n\r\n                /* comprobante */\r\n                const accionesMetodo = document.createElement('DIV');\r\n                accionesMetodo.classList.add('registrado__datos');\r\n\r\n                \r\n                const metodoLabel = document.createElement('SPAN');\r\n                metodoLabel.classList.add('registrado__label');\r\n                metodoLabel.textContent = 'Metodo '\r\n                \r\n                const metodoDato = document.createElement('P');\r\n                metodoDato.classList.add('registrado__dato');\r\n                metodoDato.textContent =metodo == 1?'Efectivo':  'Transferencia';\r\n                \r\n\r\n                \r\n\r\n                // accionesCliente.appendChild(clienteLabel);\r\n                // accionesCliente.appendChild(clienteDato);\r\n\r\n                accionesRecaudador.appendChild(recaudadorLabel);\r\n                accionesRecaudador.appendChild(recaudadorDato);\r\n                \r\n                accionesPeriodo.appendChild(periodoLabel);\r\n                accionesPeriodo.appendChild(periodoDato);\r\n\r\n                accionesMonto.appendChild(montoLabel);\r\n                accionesMonto.appendChild(montoDato);\r\n\r\n                accionesMetodo.appendChild(metodoLabel);\r\n                accionesMetodo.appendChild(metodoDato);\r\n    \r\n                // accionesContenedor.appendChild(accionesCliente);\r\n                accionesContenedor.appendChild(accionesRecaudador);\r\n                accionesContenedor.appendChild(accionesPeriodo);\r\n                accionesContenedor.appendChild(accionesMonto);\r\n                accionesContenedor.appendChild(accionesMetodo);\r\n\r\n                acciones.appendChild(accionesContenedor)\r\n\r\n                //Botones \r\n                const botonesContenedor = document.createElement('DIV');\r\n                botonesContenedor.classList.add('actions__botones');\r\n\r\n                const btnVerFactura =  document.createElement('SPAN');\r\n                btnVerFactura.classList.add('actions__boton');\r\n\r\n                btnVerFactura.onclick = function(){\r\n                    previsualizarComprobante(factura_id);\r\n                }\r\n                btnVerFactura.textContent = 'Previzualizar';\r\n\r\n                botonesContenedor.appendChild(btnVerFactura);\r\n\r\n              \r\n                acciones.appendChild(botonesContenedor);\r\n\r\n            }\r\n\r\n            async function previsualizarComprobante(factura_id){\r\n               \r\n\r\n                const url =`/api/previsualizar-pago?key=${btoa(factura_id)}`;\r\n                // Abre la URL en una nueva pestaña\r\n                window.open(url, '_blank');\r\n\r\n              \r\n            }\r\n\r\n           \r\n            async function enviarInformacionPagar(id){\r\n                const url =  '/api/pagar';\r\n                const datos = new FormData();\r\n                datos.append('id',id);\r\n                try {\r\n                    const respuesta = await fetch(url,{\r\n                        body:datos,\r\n                        method:'POST'\r\n                    })\r\n                    const resultado = await respuesta.json();\r\n                 \r\n                    if(resultado.tipo == 'error'){\r\n                        Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Oops',\r\n                            text: resultado.mensaje\r\n                          })\r\n                    }else{\r\n                        Swal.fire({\r\n                            icon: 'success',\r\n                          \r\n                            text: resultado.mensaje\r\n                          })\r\n                        while(contenedorPagado.firstChild){\r\n                            contenedorPagado.removeChild(contenedorPagado.firstChild);\r\n                        }\r\n                       \r\n                     \r\n                      \r\n                        consultarPagos();\r\n                    }\r\n                } catch (error) {\r\n                    \r\n                }\r\n            }\r\n\r\n   \r\n          \r\n\r\n\r\n\r\n            function seleccionarPago(e){\r\n                \r\n                const seleccionAnterior =  document.querySelector('.table__seleccion');\r\n                if(seleccionAnterior){\r\n                    seleccionAnterior.classList.remove('table__seleccion')\r\n                }\r\n                const facturaSeleccionada  =e.currentTarget;\r\n                facturaSeleccionada.classList.add('table__seleccion');\r\n            }\r\n\r\n   \r\n\r\n            function limpiarHtml(){\r\n                const acciones = document.querySelector('#payments')\r\n                while(acciones.firstChild){\r\n                    acciones.removeChild(acciones.firstChild);\r\n                }\r\n            }\r\n\r\n\r\n\r\n     }\r\n    \r\n\r\n})();\r\n\r\n","(function(){\r\n    const tablaPagos = document.querySelector('#tablaPagos');\r\n    if(tablaPagos){\r\n\r\n   \r\n        let tablaPagosData;\r\n        mostraroPagos();\r\n\r\n        $('#tablaPagos').on('click', '#btn_previsualizar', function(e) {\r\n            // Manejar el evento aquí\r\n       \r\n            previsualizarPago($(this).attr('data-numero-pago'))\r\n        });\r\n        $('#tablaPagos').on('click', '#btn_anular', function(e) {\r\n            // Manejar el evento aquí\r\n            eliminarPagoAlerta($(this).attr('data-numero-pago'));\r\n            // Resto del código\r\n        });\r\n\r\n        \r\n      \r\n        \r\n      \r\n        function previsualizarPago(numero_pago){\r\n            const url =`/api/previsualizar-pago?key=${btoa(numero_pago)}`;\r\n                // Abre la URL en una nueva pestaña\r\n                window.open(url, '_blank');\r\n\r\n        }\r\n        function eliminarPagoAlerta(numero_pago){\r\n                  \r\n            Swal.fire({\r\n                title: `Esta seguro que desea anular el pago # ${numero_pago}?`,\r\n                text:'Esta accion no se puede deshacer',\r\n                icon: 'question',\r\n                showDenyButton: true,\r\n                confirmButtonText: 'Aceptar',\r\n                denyButtonText: `Cancelar`,\r\n              }).then((result) => {\r\n                /* Read more about isConfirmed, isDenied below */\r\n                if (result.isConfirmed) {\r\n                    anularPago(numero_pago);\r\n                    \r\n                  //Swal.fire('Saved!', '', 'success')\r\n                }\r\n              })\r\n        }\r\n        async function anularPago(numero_pago){\r\n            const datos = new FormData();\r\n            datos.append('numero_pago', numero_pago);\r\n            \r\n            \r\n            const url = '/api/anular-pago';\r\n            try {\r\n                const respuesta = await  fetch(url, {\r\n                    body:datos,\r\n                    method:'POST'\r\n                })\r\n                const resultado = await respuesta.json();\r\n                console.log(resultado)\r\n                if(resultado.tipo=='error'){\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: resultado.mensaje,\r\n        \r\n                    })\r\n                    return;\r\n                }\r\n                Swal.fire({\r\n                    icon: 'success',\r\n                  \r\n                    text: resultado.mensaje,\r\n                    \r\n                })\r\n                tablaPagosData.ajax.reload(); \r\n            } catch (error) {\r\n                \r\n            }\r\n        }\r\n\r\n        function mostraroPagos(){\r\n      \r\n            $(\"#tablaPagos\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n        \r\n            tablaPagosData = $('#tablaPagos').DataTable({\r\n                ajax: '/api/lista-pagos',\r\n                \"deferRender\":true,\r\n                \"retrieve\":true,\r\n                \"proccesing\":true,\r\n                responsive:true\r\n            });\r\n            // $.ajax({\r\n            //     url:'/api/lista-pagos',\r\n            //     success:function(req){\r\n            //         console.log(req)\r\n            //     },\r\n            //     error:function(error){\r\n            //         console.log(error.responseText);\r\n            //     }\r\n                \r\n            // })\r\n        }\r\n    }\r\n})();\r\n\r\n\r\n","\r\n\r\n(function(){\r\n    const contenedorPagar  = document.querySelector('#contenedorPagar');\r\n    if(contenedorPagar){\r\n        const inputCodigo = document.querySelector('#numero_factura');\r\n        const contenedorFacturas = document.querySelector('#pagarFacturas');\r\n        const guardarPagosBtn = document.querySelector('#guardarPagos');\r\n        const totalFacturas = document.querySelector('#totalFacturas');\r\n        const totalRecaudo = document.querySelector('#totalRecaudo');\r\n\r\n        let facturas;\r\n        let arreglofacturas = []\r\n        consultarFacturas()\r\n        guardarPagosBtn.addEventListener('click', confirmarPagos);\r\n\r\n        async function guardarPagos(){\r\n            const datos = new FormData();\r\n        \r\n            const arregloPagos = arreglofacturas.map(factura => factura.id);\r\n          \r\n            datos.append('pagos', JSON.stringify(arregloPagos));\r\n            try {\r\n                const respuesta = await fetch('/api/subir-pagos', {\r\n                    body:datos,\r\n                    method:'POST'\r\n                }) \r\n                const resultado = await respuesta.json();\r\n                if(resultado.tipo == 'error'){\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops',\r\n                        text: resultado.mensaje\r\n                      })\r\n                }else{\r\n                    limpiarHtml();\r\n                    totalFacturas.textContent = 0;\r\n                    totalRecaudo.textContent = '$0'\r\n                    arreglofacturas = [];\r\n                    Swal.fire({\r\n                        icon: 'success',\r\n                        \r\n                        text: resultado.mensaje\r\n                      })\r\n                  \r\n                }\r\n            } catch (error) {\r\n                \r\n            }\r\n        }\r\n\r\n       function confirmarPagos(){\r\n            if(arreglofacturas.length>0){\r\n                Swal.fire({\r\n                    title: `Esta seguro que desea subir ${ totalFacturas.textContent} Pagos por ${ totalRecaudo.textContent}`,\r\n                    icon: 'question',\r\n                    showDenyButton: true,\r\n                    confirmButtonText: 'Aceptar',\r\n                    denyButtonText: `Cancelar`,\r\n                  }).then((result) => {\r\n                    /* Read more about isConfirmed, isDenied below */\r\n                    if (result.isConfirmed) {\r\n                        guardarPagos();\r\n                        \r\n                      //Swal.fire('Saved!', '', 'success')\r\n                    }\r\n                  })\r\n            }else{\r\n                Swal.fire(\r\n                    'Error',\r\n                    'Debe agregar al menos una factura',\r\n                    'error'\r\n                )\r\n            }\r\n       }\r\n\r\n\r\n        function infoFactura(facturaEncontrada){\r\n      \r\n            if(arreglofacturas.find(factura => factura.id=== facturaEncontrada.id)){\r\n                setTimeout(()=>{\r\n                    Swal.fire(\r\n                        'Error',\r\n                        'La Factura ya fue agregada a la fila de pagos',\r\n                        'error'\r\n                      )\r\n                    return;\r\n                },1)\r\n               \r\n            }else   if(facturaEncontrada.pagado == 1){\r\n                setTimeout(()=>{\r\n                Swal.fire(\r\n                    'Error',\r\n                    'La Factura ya ha sido cancelada',\r\n                    'error'\r\n                  )\r\n                return;\r\n            },1)\r\n                    \r\n            }else   if(facturaEncontrada.combinado == 1){\r\n                setTimeout(()=>{\r\n                Swal.fire(\r\n                    'Error',\r\n                    'La Factura ha sido combinada',\r\n                    'error'\r\n                )\r\n                return;\r\n            },1)\r\n            }else{\r\n                Swal.fire({\r\n                position: 'top-end',\r\n                icon: 'success',\r\n                title: 'Factura agregada a la pila',\r\n                showConfirmButton: false,\r\n                timer: 1500\r\n            })\r\n             \r\n                const {id, numero_factura, registrado_nombre, estrato, mes_facturado,copago,ajuste,saldo_anterior } = facturaEncontrada;\r\n                arreglofacturas.unshift({\r\n                    numero_factura:numero_factura,\r\n                    subscriptor:registrado_nombre,\r\n                    estrato:estrato,\r\n                    mes_facturado:mes_facturado,\r\n                    copago:copago,\r\n                    ajuste:ajuste,\r\n                    saldo_anterior:saldo_anterior,\r\n                    id:id\r\n                \r\n    \r\n                })\r\n    \r\n                const tabla = document.createElement('TABLE');\r\n                tabla.classList.add('table');\r\n            \r\n                limpiarHtml();\r\n                let recaudo = 0;\r\n                let cantidadFacturas = 0;\r\n                arreglofacturas.forEach(factura=>{\r\n              \r\n                    const { numero_factura, subscriptor, estrato, mes_facturado,copago, ajuste, saldo_anterior} = factura;\r\n            \r\n                    const tr = document.createElement('TR');\r\n                    tr.classList.add('table__tr')\r\n                    const tdNumeroFactura = document.createElement('TD');\r\n                    tdNumeroFactura.classList.add('table__td');\r\n                    tdNumeroFactura.textContent = `#${numero_factura}`\r\n    \r\n                    const tdRegistrado = document.createElement('TD');\r\n                    tdRegistrado.classList.add('table__td');\r\n                    tdRegistrado.innerHTML = `<span class=\"table__span\">Cliente:&nbsp; </span>&nbsp; ${subscriptor}`;\r\n    \r\n                    const tdEstrato = document.createElement('TD');\r\n                    tdEstrato.classList.add('table__td');\r\n                    tdEstrato.innerHTML = `<span class=\"table__span\">Estrato:&nbsp; </span>&nbsp; ${estrato}`\r\n    \r\n                    const tdMesFacturado = document.createElement('TD');\r\n                    tdMesFacturado.classList.add('table__td');\r\n                    tdMesFacturado.innerHTML = `<span class=\"table__span\">Mes Facturado:&nbsp; </span>&nbsp; ${mes_facturado}`\r\n    \r\n                    let monto = parseFloat(copago)+ parseFloat(saldo_anterior)- parseFloat(ajuste)\r\n                  \r\n                    const tdCopago = document.createElement('TD');\r\n                    tdCopago.classList.add('table__td');\r\n                    tdCopago.innerHTML = ` <span class=\"table__span\">Monto:&nbsp; </span>$ ${monto.toLocaleString('en')}`\r\n    \r\n                    \r\n                   \r\n    \r\n    \r\n    \r\n                    tr.appendChild(tdNumeroFactura)\r\n                    tr.appendChild(tdRegistrado)\r\n                    tr.appendChild(tdEstrato)\r\n                    tr.appendChild(tdMesFacturado)\r\n                    tr.appendChild(tdCopago)\r\n                    tabla.appendChild(tr);\r\n                    recaudo = recaudo + monto;\r\n                    cantidadFacturas = cantidadFacturas +1;\r\n\r\n                })\r\n\r\n                totalFacturas.textContent = cantidadFacturas\r\n                totalRecaudo.textContent = '$'+recaudo.toLocaleString('en')\r\n    \r\n                contenedorFacturas.appendChild(tabla)\r\n\r\n            }\r\n          \r\n          \r\n           \r\n            \r\n        }\r\n\r\n\r\n\r\n        function consultarFactura(e){\r\n            const numero_factura = e.target.value\r\n           \r\n         \r\n            const facturaEncontrada = facturas.find(factura => factura.numero_factura === numero_factura);\r\n            if (facturaEncontrada) {\r\n                inputCodigo.value='';\r\n                infoFactura(facturaEncontrada);\r\n            } \r\n        }\r\n        \r\n        function agregarEventos(){\r\n         \r\n            inputCodigo.addEventListener('input',function(e){\r\n             \r\n            \r\n                consultarFactura(e);\r\n            })\r\n        }\r\n        \r\n\r\n\r\n        async function consultarFacturas(){\r\n            try {\r\n                const resultado = await fetch('/api/facturas-por-pagar');\r\n                const respuesta = await resultado.json();\r\n                facturas = respuesta;\r\n             \r\n              \r\n                agregarEventos();\r\n            } catch (error) {\r\n                \r\n            }\r\n        }\r\n       \r\n        function limpiarHtml(){\r\n            while(contenedorFacturas.firstChild){\r\n                contenedorFacturas.removeChild(contenedorFacturas.firstChild)\r\n            }\r\n        }\r\n\r\n    \r\n    }\r\n\r\n\r\n})();","\r\n(function(){\r\n   \r\n\r\n    \r\n    const tablaUsuarios = document.querySelector('#tablaUsuarios');\r\n    if(tablaUsuarios){\r\n        let tablaUsuariosData;\r\n        tablaUsuarios.addEventListener('click',function(e){\r\n            leerAccion(e);\r\n        })\r\n\r\n        $('#tablaUsuarios').on('click', '#btn_eliminar_usuario', function(e) {\r\n            // Manejar el evento aquí\r\n      \r\n            eliminarUsuario(e);\r\n        });\r\n    \r\n        \r\n\r\n        mostrarUsuarios();\r\n\r\n        verificarCargaTabla();\r\n        function verificarCargaTabla(){\r\n      \r\n            tablaUsuariosData.on('draw', eventosClick);\r\n        }\r\n\r\n        function eventosClick(){\r\n\r\n            \r\n          \r\n            const btnEliminar = document.querySelectorAll('#btn_eliminar_usuario');\r\n            btnEliminar.forEach(btnEliminar=>{\r\n              \r\n                btnEliminar.addEventListener('click', function(e){\r\n                   // console.log(e.currentTarget)\r\n                    \r\n                   eliminarUsuario(e);\r\n                })\r\n            })\r\n        }\r\n\r\n\r\n        function leerAccion(e){\r\n        \r\n            // if(e.target.id=='btn_eliminar_usuario'){\r\n            //     eliminarUsuario(e);\r\n            // }\r\n            if(e.target.id=='btn_cambiar_estado'){\r\n                editarEstado(e);\r\n            }\r\n        }\r\n        function eliminarUsuario(e){\r\n            const nombre = e.currentTarget.parentNode.parentNode.parentNode.children[1].textContent;\r\n            const id = e.currentTarget.dataset.usuarioId;\r\n            Swal.fire({\r\n                title: `Esta seguro que desea eliminar a  ${nombre}?`,\r\n                text:'Esta accion no se puede deshacer',\r\n                icon: 'question',\r\n                showDenyButton: true,\r\n                confirmButtonText: 'Aceptar',\r\n                denyButtonText: `Cancelar`,\r\n              }).then((result) => {\r\n                /* Read more about isConfirmed, isDenied below */\r\n                if (result.isConfirmed) {\r\n                    enviarInformacionEliminar(id);\r\n                    \r\n                  //Swal.fire('Saved!', '', 'success')\r\n                }\r\n              })\r\n        }\r\n        async function enviarInformacionEliminar(id){\r\n           \r\n            url = `/api/usuarios/eliminar?id=${id}`;\r\n            try {\r\n                const respuesta = await fetch(url)\r\n                const resultado = await respuesta.json();\r\n              \r\n             \r\n                if(resultado.tipo=='error'){\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: resultado.mensaje,\r\n        \r\n                    })\r\n                    return;\r\n                }\r\n                Swal.fire({\r\n                    icon: 'success',\r\n                  \r\n                    text: resultado.mensaje,\r\n                    \r\n                })\r\n                tablaUsuariosData.ajax.reload(); \r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n        function editarEstado(e){\r\n           \r\n            const estadoActual = e.target.dataset.estadoActual;\r\n            const nombre = e.target.parentNode.parentNode.children[1].textContent;\r\n            const id = e.target.dataset.usuarioId;\r\n\r\n            let mensajeAlerta = '';\r\n        \r\n            if(estadoActual == 1){\r\n                mensajeAlerta = 'Esta seguro que desea desactivar a';\r\n            }else{\r\n                mensajeAlerta = 'Esta seguro que desea activar a';\r\n            }\r\n        \r\n            \r\n            Swal.fire({\r\n                title: `${mensajeAlerta}  ${nombre}?`,\r\n                text:'Esta accion no se puede deshacer',\r\n                icon: 'question',\r\n                showDenyButton: true,\r\n                confirmButtonText: 'Aceptar',\r\n                denyButtonText: `Cancelar`,\r\n              }).then((result) => {\r\n                /* Read more about isConfirmed, isDenied below */\r\n                if (result.isConfirmed) {\r\n                    enviarInformacionEstado(id);\r\n                    \r\n                  //Swal.fire('Saved!', '', 'success')\r\n                }\r\n              })\r\n        }\r\n\r\n        async function enviarInformacionEstado(id){\r\n            url = `/api/usuarios/editar-estado?id=${id}`;\r\n            try {\r\n                const respuesta = await fetch(url)\r\n                const resultado = await respuesta.json();\r\n           \r\n                if(resultado.tipo=='error'){\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Oops...',\r\n                        text: resultado.mensaje,\r\n        \r\n                    })\r\n                    return;\r\n                }\r\n                Swal.fire({\r\n                    icon: 'success',\r\n                  \r\n                    title: resultado.mensaje,\r\n                    \r\n                })\r\n                tablaUsuariosData.ajax.reload(); \r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n\r\n        function mostrarUsuarios(){\r\n            $(\"#tablaUsuarios\").dataTable().fnDestroy(); //por si me da error de reinicializar\r\n    \r\n            tablaUsuariosData = $('#tablaUsuarios').DataTable({\r\n                ajax: '/api/usuarios',\r\n                \"deferRender\":true,\r\n                \"retrieve\":true,\r\n                \"proccesing\":true,\r\n                responsive:true\r\n            });\r\n        }\r\n       \r\n    \r\n\r\n    }  \r\n        \r\n   \r\n\r\n \r\n \r\n\r\n\r\n  \r\n})();","\r\n\r\n(function(){\r\n    \r\n    const btnImprimirFacturas = document.querySelector('#btnImprimirFacturas');\r\n    if(btnImprimirFacturas){\r\n        const contenedorSwitch = document.querySelector('#switch');\r\n        const btnGenerarFacturas = document.querySelector('#btnGenerarFacturas');\r\n     \r\n        const btnEliminarFacturas  = document.querySelector('#btnEliminarFacturas');\r\n\r\n        btnEliminarFacturas.addEventListener('click',alertaEliminarFacturas)\r\n      \r\n\r\n        revisarGeneraAuto();\r\n\r\n        function alertaEliminarFacturas(){\r\n            Swal.fire({\r\n                title: 'Esta seguro de generar las facturas de este mes?',\r\n              \r\n             \r\n                showDenyButton: true,\r\n                confirmButtonText: 'Eliminar',\r\n                denyButtonText: `Cancelar`,\r\n              }).then((result) => {\r\n                /* Read more about isConfirmed, isDenied below */\r\n                if (result.isConfirmed) {\r\n                    eliminarFacturas();\r\n                }\r\n              })\r\n        }\r\n\r\n        async function eliminarFacturas(){\r\n            try {\r\n                const respuesta = await fetch('/api/eliminar-facturas');\r\n                const resultado = await respuesta.json();\r\n             \r\n                Swal.fire({\r\n                    icon: resultado.type,\r\n        \r\n                    text: resultado.msg\r\n                })\r\n            } catch (error) {\r\n                \r\n            }\r\n        }\r\n\r\n        btnImprimirFacturas.addEventListener('click',function(){\r\n            const url = '/api/facturas'\r\n            //const url = `${location.origin}/api/facturas`\r\n            window.open(url, '_blank');\r\n        })\r\n\r\n        function alertaGenerarFacturasAuto(){\r\n         \r\n            Swal.fire({\r\n                title: 'Esta seguro de generar las facturas de este mes?',\r\n              \r\n             \r\n                showDenyButton: true,\r\n                confirmButtonText: 'Generar',\r\n                denyButtonText: `Cancelar`,\r\n              }).then((result) => {\r\n                /* Read more about isConfirmed, isDenied below */\r\n                if (result.isConfirmed) {\r\n                     generarFacturas();\r\n                }\r\n              })\r\n        }\r\n\r\n        async function generarFacturas(){\r\n            btnGenerarFacturas.removeEventListener('click', alertaGenerarFacturasAuto)\r\n            btnGenerarFacturas.classList.add('inicio__boton-generar--inactivo');\r\n              \r\n            try {\r\n                const respuesta = await fetch(`/api/generar-facturas-manual`);\r\n    \r\n                const resultado = await respuesta.json()\r\n                console.log(resultado)\r\n                btnGenerarFacturas.classList.remove('inicio__boton-generar--inactivo');\r\n                btnGenerarFacturas.addEventListener('click', alertaGenerarFacturasAuto)\r\n                    Swal.fire({\r\n                        icon: resultado.type,\r\n            \r\n                        text: resultado.msg\r\n                    })\r\n     \r\n               \r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n\r\n        async function cambiarEstadoAuto(estado){\r\n            let auto;\r\n            if(estado){\r\n                auto = 1;\r\n            }else{\r\n                auto = 0;\r\n            }\r\n\r\n\r\n\r\n      \r\n            const datos = new FormData();\r\n            datos.append('id',1)\r\n            datos.append('auto',auto);\r\n\r\n            const url = `/api/generar-auto`;\r\n           \r\n            try {\r\n                await fetch(url,{\r\n                    body:datos,\r\n                    method:'POST'\r\n                })\r\n          \r\n             \r\n                revisarGeneraAuto()\r\n            \r\n            } catch (error) {\r\n                \r\n            }\r\n        }\r\n\r\n        async function revisarGeneraAuto(){\r\n\r\n\r\n         \r\n            try {\r\n                const respuesta = await fetch('/api/generar-auto');\r\n               \r\n                const resultado = await respuesta.json()\r\n               \r\n                const auto = resultado.auto;\r\n                generarCheckBox(auto);\r\n               \r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n\r\n    \r\n        }\r\n\r\n        function generarCheckBox(auto){\r\n            const checkbox = document.createElement('INPUT')\r\n            checkbox.type=\"checkbox\"\r\n            checkbox.id = \"checkbox\";\r\n        \r\n            if(btnGenerarFacturas.classList.contains('inicio__boton-generar--inactivo')){\r\n                btnGenerarFacturas.classList.remove('inicio__boton-generar--inactivo')\r\n            }\r\n            if(auto==1){\r\n                checkbox.checked = true\r\n                btnGenerarFacturas.classList.add('inicio__boton-generar--inactivo');\r\n                btnGenerarFacturas.removeEventListener('click', alertaGenerarFacturasAuto)\r\n\r\n                \r\n            }else{\r\n                checkbox.checked = false\r\n                btnGenerarFacturas.addEventListener('click', alertaGenerarFacturasAuto)\r\n            \r\n            }\r\n            checkbox.onchange = function(){\r\n                setTimeout(()=>{\r\n                    cambiarEstadoAuto(checkbox.checked)\r\n                },300)\r\n                \r\n            }\r\n            \r\n            const slider = document.createElement('DIV')\r\n \r\n            slider.classList.add('slider', 'round');\r\n            contenedorSwitch.appendChild(checkbox)\r\n            contenedorSwitch.appendChild(slider)\r\n\r\n        }\r\n\r\n    }\r\n\r\n})();\r\n\r\n\r\n\r\n","(function(){\r\n    document.addEventListener(\"DOMContentLoaded\", function(){\r\n        const caja = document.querySelector('#cajas');\r\n    if(caja){\r\n        const subscriptores = document.querySelector('#subscriptores');\r\n        const subscriptoresVigentes = document.querySelector('#subscriptoresVigentes');\r\n        const subscriptoresInactivos = document.querySelector('#subscriptoresInactivos');\r\n        const pagosVigentes = document.querySelector('#pagosVigentes');\r\n        const fecha = document.querySelector('#fecha');\r\n        const ingreso = document.querySelector('#ingreso');\r\n        const ingresosMensuales = document.querySelector('#ingresosMensuales');\r\n        const totalPagos = document.querySelector('#totalPagos');\r\n        const selectYear = document.querySelector('#year');\r\n        const selectMes = document.querySelector('#mes');\r\n\r\n        //selects para la consignacion\r\n        const selectYearConsignacion = document.querySelector('#year_consignacion')\r\n        const selectMesConsignacion = document.querySelector('#mes_consignacion')\r\n\r\n\r\n        const consignacionAseo = document.querySelector('#consignacionAseo')\r\n        const consignacionAlc = document.querySelector('#consignacionAlc')\r\n        const consignacionAcu = document.querySelector('#consignacionAcu')\r\n\r\n        const contenedor_estratos = document.querySelector('#estratos');\r\n        const btnImprimirFacturasFiltradas = document.querySelector('#btnImprimirFacturasFiltradas');\r\n\r\n\r\n        \r\n\r\n        selectYear.addEventListener('change',leerInputs);\r\n        selectMes.addEventListener('change',leerInputs);\r\n\r\n        selectYearConsignacion.addEventListener('change',leerInputsConsignacion);\r\n        selectMesConsignacion.addEventListener('change',leerInputsConsignacion);\r\n\r\n\r\n\r\n        informacionUsuario();\r\n        fechaActual();\r\n        leerInputs();\r\n        consultarEstratos();\r\n\r\n\r\n        btnImprimirFacturasFiltradas.addEventListener('click',function(e){\r\n            const estratoId = contenedor_estratos.value;\r\n            if(estratoId==0){\r\n                Swal.fire({\r\n                    icon: 'error',\r\n        \r\n                    text: 'Porfavor seleccione un estrato'\r\n                })\r\n            }else{\r\n                const url = `/api/facturas?estratos-key=${btoa(estratoId)}`\r\n                //const url = `${location.origin}/api/facturas`\r\n                window.open(url, '_blank');\r\n            }\r\n        })\r\n\r\n        fecha.addEventListener('change',function(e){\r\n            const fechaSeleccionada = e.target.value;\r\n            consultarIngresosFecha(fechaSeleccionada)\r\n        })\r\n     \r\n        async function consultarEstratos(){\r\n            const url = `${location.origin}/api/estratos-all`;\r\n            try {\r\n                const respuesta = await fetch(url);\r\n                const resultado = await respuesta.json();\r\n                mostrarEstratos(resultado);\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n\r\n        function mostrarEstratos(estratos){\r\n     \r\n            estratos.forEach(estrato => {\r\n                const option = document.createElement('OPTION');\r\n                option.value=estrato.id\r\n                option.textContent = estrato.estrato\r\n                contenedor_estratos.appendChild(option)\r\n            });\r\n        }\r\n\r\n        function leerInputs(){\r\n            const year = selectYear.value;\r\n            const mes = selectMes.value;\r\n            const fecha = year+\"-\"+mes;\r\n            consultarIngresosMensuales(fecha);\r\n        }\r\n        function leerInputsConsignacion(){\r\n            const year = selectYearConsignacion.value;\r\n            const mes = selectMesConsignacion.value;\r\n            const fecha = year+\"-\"+mes;\r\n      \r\n       \r\n            consultarConsignaciones(fecha);\r\n        }\r\n\r\n        async function consultarIngresosMensuales(fecha){\r\n            const datos = new FormData();\r\n            datos.append('fecha', fecha);\r\n            const url = '/api/inicio/ingresos-mensuales';\r\n            try {\r\n                const respuesta = await fetch(url, {\r\n                    body:datos,\r\n                    method:'POST'\r\n                });\r\n                const resultado = await respuesta.json();\r\n                ingresosMensuales.textContent = '$'+resultado;\r\n\r\n            } catch (error) {\r\n                \r\n            }\r\n        }\r\n        async function consultarConsignaciones(fecha){\r\n            const datos = new FormData();\r\n            datos.append('fecha', fecha);\r\n            const url = '/api/inicio/consignaciones';\r\n            try {\r\n                const respuesta = await fetch(url, {\r\n                    body:datos,\r\n                    method:'POST'\r\n                });\r\n                const resultado = await respuesta.json();\r\n               \r\n                imprimirDatosConsignacion(resultado);\r\n\r\n            } catch (error) {\r\n                \r\n            }\r\n        }\r\n        function imprimirDatosConsignacion(resultado){\r\n            consignacionAseo.textContent = '';\r\n            consignacionAcu.textContent = '';\r\n            consignacionAlc.textContent = '';\r\n            consignacionAseo.textContent = '$'+(resultado.aseo||0);\r\n            consignacionAcu.textContent = '$'+(resultado.acueducto || 0);\r\n            consignacionAlc.textContent = '$'+(resultado.alcantarillado || 0);\r\n        }\r\n\r\n        async function informacionUsuario(){\r\n            try {\r\n                const respuesta = await fetch('/api/inicio/registrados');\r\n                const resultado = await respuesta.json();\r\n                mostrarResultados(resultado);\r\n            } catch (error) {\r\n                \r\n            }\r\n        }\r\n\r\n        function mostrarResultados(resultado){\r\n            const {registrados, registrados_activos, registrados_inactivos, pagos_vigentes, ingresos} = resultado;\r\n            subscriptores.textContent = registrados;\r\n            subscriptoresVigentes.textContent = registrados_activos;\r\n            subscriptoresInactivos.textContent = registrados_inactivos;\r\n            pagosVigentes.textContent = pagos_vigentes;\r\n            totalPagos.textContent = '$'+ingresos\r\n\r\n        }\r\n        \r\n\r\n        function fechaActual(){\r\n            const fechaActual = new Date().toISOString().slice(0, 10);\r\n            fecha.value = fechaActual;\r\n            consultarIngresosFecha(fechaActual);\r\n        }\r\n        async function consultarIngresosFecha(fecha){\r\n            const datos = new FormData();\r\n            datos.append('fecha', fecha);\r\n       \r\n            try {\r\n                const respuesta = await fetch('/api/inicio/fecha', {\r\n                    body:datos,\r\n                    method:'POST'\r\n                });\r\n                const resultado = await respuesta.json();\r\n                mostrarIngresos(resultado);\r\n            } catch (error) {\r\n                \r\n            }\r\n        }\r\n        function mostrarIngresos(resultado){\r\n            ingreso.textContent = '$'+resultado\r\n        }\r\n        \r\n    }\r\n    })\r\n    \r\n\r\n})();"]}